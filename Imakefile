#ifndef XCOMM
#define XCOMM #
#endif

XCOMM
XCOMM Imakefile for ImageMagick.
XCOMM
XCOMM Copyright (C) 2000 ImageMagick Studio, a non-profit organization
XCOMM dedicated to making software imaging solutions freely available.
XCOMM
XCOMM Permission is hereby granted, free of charge, to any person obtaining
XCOMM a copy of this software and associated documentation files
XCOMM ("ImageMagick"), to deal in ImageMagick without restriction,
XCOMM including without limitation the rights to use, copy, modify, merge,
XCOMM publish, distribute, sublicense, and/or sell copies of ImageMagick,
XCOMM and to permit persons to whom the ImageMagick is furnished to do so,
XCOMM subject to the following conditions:
XCOMM
XCOMM The above copyright notice and this permission notice shall be
XCOMM included in all copies or substantial portions of ImageMagick.
XCOMM
XCOMM The software is provided "as is", without warranty of any kind,
XCOMM express or implied, including but not limited to the warranties of
XCOMM merchantability, fitness for a particular purpose and
XCOMM noninfringement.  In no event shall ImageMagick Studio be liable for
XCOMM any claim, damages or other liability, whether in an action of
XCOMM contract, tort or otherwise, arising from, out of or in connection
XCOMM with ImageMagick or the use or other dealings in ImageMagick.
XCOMM
XCOMM Except as contained in this notice, the name of the ImageMagick
XCOMM Studio shall not be used in advertising or otherwise to promote the
XCOMM sale, use or other dealings in ImageMagick without prior written
XCOMM authorization from the ImageMagick Studio.
XCOMM

MANSUFFIX = 1

#include "Magick.tmpl"

#ifndef ForceSubdirs
#define ForceSubdirs(dirs)
#endif
#define IHaveSubdirs
#define PassCDebugFlags CCOPTIONS='$(CCOPTIONS)'

HEADERS = magick/api.h magick/blob.h magick/cache.h magick/classify.h \
  magick/compress.h magick/delegates.h magick/error.h magick/gems.h \
  magick/image.h magick/magick.h magick/memory.h magick/monitor.h \
  magick/quantize.h magick/timer.h magick/utility.h magick/version.h \
  magick/xwindows.h 

LINTSRCS = display.c magick/PreRvIcccm.c magick/animate.c magick/annotate.c \
  magick/attributes.c magick/avs.c magick/bim.c magick/blob.c \
  magick/bmp.c magick/cache.c magick/cache_view.c magick/cmyk.c \
  magick/colors.c magick/compress.c magick/dcm.c magick/decorate.c \
  magick/delegates.c magick/display.c magick/dps.c magick/draw.c \
  magick/effects.c magick/enhance.c magick/ept.c magick/error.c \
  magick/fax.c magick/fits.c magick/fpx.c magick/gems.c magick/gif.c \
  magick/gradation.c magick/gray.c magick/hdf.c magick/histogram.c \
  magick/html.c magick/icc.c magick/icon.c magick/image.c magick/iptc.c \
  magick/jbig.c magick/jpeg.c magick/label.c magick/logo.c magick/mac.c \
  magick/magick.c magick/map.c magick/matte.c magick/memory.c \
  magick/miff.c magick/monitor.c magick/mono.c magick/montage.c \
  magick/mtv.c magick/nt.c magick/pcd.c magick/pcl.c magick/pcx.c \
  magick/pdb.c magick/pdf.c magick/pict.c magick/pix.c \
  magick/pixel_cache.c magick/plasma.c magick/png.c magick/pnm.c \
  magick/preview.c magick/ps.c magick/ps2.c magick/ps3.c magick/psd.c \
  magick/pwp.c magick/quantize.c magick/rgb.c magick/rla.c magick/rle.c \
  magick/sct.c magick/segment.c magick/sfw.c magick/sgi.c magick/shear.c \
  magick/signature.c magick/stegano.c magick/sun.c magick/tga.c \
  magick/tiff.c magick/tile.c magick/tim.c magick/timer.c \
  magick/transform.c magick/ttf.c magick/txt.c magick/uil.c \
  magick/utility.c magick/uyvy.c magick/vicar.c magick/vid.c \
  magick/viff.c magick/vms.c magick/wbmp.c magick/widget.c magick/x.c \
  magick/xbm.c magick/xc.c magick/xpm.c magick/xwd.c magick/xwindows.c \
  magick/yuv.c magick/zoom.c

SRCS = display.c animate.c import.c montage.c convert.c mogrify.c identify.c \
  combine.c
OBJS = display.o animate.o import.o montage.o convert.o mogrify.o identify.o \
  combine.o

#ifdef __CYGWIN32__
PROGRAMS = magick display.exe animate.exe import.exe montage.exe convert.exe \
  mogrify.exe identify.exe combine.exe
#else
PROGRAMS = magick display animate import montage convert mogrify identify \
  combine
#endif

SUBDIRS = magick

AllTarget($(PROGRAMS))
DependTarget()

ForceSubdirs($(SUBDIRS))
#if (ProjectX < 5) && !defined(uxpArchitecture)
InstallSubdirs($(SUBDIRS))
#endif
DependSubdirs($(SUBDIRS))

NormalProgramTarget(display,display.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
NormalLintTarget($(LINTSRCS))
InstallProgram(display,$(LOCALDIR))
InstallMultipleMan(display.1,$(LOCALMAN1))
NormalProgramTarget(montage,montage.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(montage,$(LOCALDIR))
InstallMultipleMan(montage.1,$(LOCALMAN1))
NormalProgramTarget(import,import.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(import,$(LOCALDIR))
InstallMultipleMan(import.1,$(LOCALMAN1))
NormalProgramTarget(animate,animate.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(animate,$(LOCALDIR))
InstallMultipleMan(animate.1,$(LOCALMAN1))
NormalProgramTarget(convert,convert.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(convert,$(LOCALDIR))
InstallMultipleMan(convert.1,$(LOCALMAN1))
NormalProgramTarget(identify,identify.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(identify,$(LOCALDIR))
InstallMultipleMan(identify.1,$(LOCALMAN1))
NormalProgramTarget(mogrify,mogrify.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(mogrify,$(LOCALDIR))
InstallMultipleMan(mogrify.1,$(LOCALMAN1))
NormalProgramTarget(combine,combine.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(combine,$(LOCALDIR))
InstallMultipleMan(combine.1,$(LOCALMAN1))
InstallMultipleMan(ImageMagick.1,$(LOCALMAN1))
InstallMultipleMan(miff.4,$(LOCALMAN4))
InstallMultipleMan(quantize.5,$(LOCALMAN5))
InstallNamedNonExec(delegates/delegates.mgk,delegates.mgk,$(PREFIX)/lib)
InstallNamedNonExec(Copyright.txt,Copyright.txt,$(PREFIX)/doc)
InstallNamedNonExec(QuickStart.txt,QuickStart.txt,$(PREFIX)/doc)

strip:
	strip display animate montage convert combine mogrify import identify
	strip magick/libMagick*
