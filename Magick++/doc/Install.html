<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; SunOS 5.6 sun4u) [Netscape]">
   <meta name="Author" content="Bob Friesenhahn">
   <meta name="Description" content="C++ API for ImageMagick">
   <title>Installing Magick++</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
&nbsp;
<center>
<h1>
Installing Magick++</h1></center>

<h3>
General</h3>
In order to compile Magick++ you must have access to a standard C++ implementation
and have <a href="http://www.wizards.dupont.com/cristy/ImageMagick.html">ImageMagick</a>
installed (<a href="ftp://ftp.wizards.dupont.com/pub/ImageMagick/">ftp://ftp.wizards.dupont.com/pub/ImageMagick/</a>).
Magick++ is co-packaged as a subdirectory of ImageMagick as of ImageMagick
version 4.2.2 and later. The author uses&nbsp; <a href="http://gcc.gnu.org/index.html">gcc
2.95.2 (GNU C++)</a> which is available under UNIX and under the
<a href="http://sourceware.cygnus.com/cygwin/">Cygwin
UNIX-emulation environment</a> for Windows. Standards compliant commercial
C++ compilers should also work fine. Most modern C++ compilers for PCs
should also work (project files are provided in the VisualMagick package
for Microsoft Visual C++ 6.0).
<p>The compiler must support the following recent C++ standard features:
<ul>
<li>
bool type</li>

<li>
string class (<tt>&lt;string></tt>)</li>

<li>
exceptions (<tt>&lt;exception></tt>)</li>

<li>
namespaces</li>

<li>
Standard Template Library (STL) (e.g. <tt>&lt;list></tt>, <tt>&lt;vector></tt>)</li>
</ul>
The author has personally verified that Magick++ compiles and runs using
the following compiler/platform combinations:
<br>&nbsp;
<table BORDER WIDTH="100%" NOSAVE >
<caption><b>Tested Configurations</b></caption>

<tr>
<td>
<center><b>Operating System</b></center>
</td>

<td>
<center><b>Architecture</b></center>
</td>

<td>
<center><b>Compiler</b></center>
</td>
</tr>

<tr>
<td><font size=-1>Solaris 2.6</font></td>

<td><font size=-1>SPARC</font></td>

<td><font size=-1>egcs 1.1.2</font></td>
</tr>

<tr>
<td><font size=-1>Solaris 2.6</font></td>

<td><font size=-1>SPARC</font></td>

<td><font size=-1>gcc-2.95.2</font></td>
</tr>

<tr>
<td><font size=-1>FreeBSD 2.2.7</font></td>

<td><font size=-1>Intel Pentium II</font></td>

<td><font size=-1>egcs 1.1.2</font></td>
</tr>

<tr>
<td><font size=-1>Windows NT 4.0 SP6a</font></td>

<td><font size=-1>Intel Pentium II</font></td>

<td><font size=-1>Visual C++ 6.0 Standard Edition</font></td>
</tr>
</table>

<p>User's of Magick++ have reported that the following configurations work
with Magick++:
<br>&nbsp;
<table BORDER WIDTH="100%" NOSAVE >
<caption><b>Other Working Configurations</b></caption>

<tr>
<td>
<center><b>Operating System</b></center>
</td>

<td>
<center><b>Architecture</b></center>
</td>

<td>
<center><b>Compiler</b></center>
</td>

<td><b>Reported By</b></td>
</tr>

<tr>
<td><font size=-1>Red Hat Linux 6.0</font></td>

<td><font size=-1>i386</font></td>

<td><font size=-1>egcs 1.1.2</font></td>

<td><font size=-1>Dr. Alexander Zimmermann &lt;Alexander.Zimmermann@fmi.uni-passau.de></font></td>
</tr>

<tr>
<td><font size=-1>Red Hat Linux 5.2</font></td>

<td><font size=-1>i386</font></td>

<td><font size=-1>egcs 1.1.2 (updated from SRPM)</font></td>

<td><font size=-1>Dr. Alexander Zimmermann &lt;Alexander.Zimmermann@fmi.uni-passau.de></font></td>
</tr>

<tr>
<td><font size=-1>Red Hat Linux 5.2</font></td>

<td><font size=-1>Alpha</font></td>

<td><font size=-1>egcs 1.1.2 (updated from SRPM)</font></td>

<td><font size=-1>Dr. Alexander Zimmermann &lt;Alexander.Zimmermann@fmi.uni-passau.de></font></td>
</tr>

<tr>
<td><font size=-1>SGI IRIX</font></td>

<td><font size=-1>MIPS</font></td>

<td><font size=-1>IRIX C++ 7.2.1.2m</font></td>

<td><font size=-1>Albert Chin-A-Young &lt;china@thewrittenword.com></font></td>
</tr>

<tr>
<td><font size=-1>SGI IRIX</font></td>

<td><font size=-1>MIPS</font></td>

<td><font size=-1>IRIX C++ 7.2.1.3m</font></td>

<td><font size=-1>Albert Chin-A-Young &lt;china@thewrittenword.com></font></td>
</tr>

<tr>
<td><font size=-1>Mac OS 9</font></td>

<td><font size=-1>PowerPC</font></td>

<td><font size=-1>CodeWarrior Professional Release 5</font></td>

<td><font size=-1>Leonard Rosenthol &lt;leonardr@digapp.com></font></td>
</tr>
</table>

<p>Please let me know if you have successfully built and executed Magick++
using a different configuration so that I can add to the table of verified
configurations.
<h3>

<hr WIDTH="100%"></h3>

<center>
<h3>
Unix/Linux</h3></center>

<h4>
Building From Source</h4>
To install the package under Unix, installation should be similar to
<p><tt>./configure [ --prefix=/prefix ]</tt>
<br><tt>make</tt>
<br><tt>make install</tt>
<p>The configure script uses the compiler/linker flags it obtains from
the installed 'Magick-config' script when performing the build. This means
that <b>ImageMagick must be installed before Magick++ is configured</b>.
The library is currently named similar to 'libMagick++.a' and is installed
under prefix/lib while the headers are installed with Magick++.h being
installed in prefix/include and the remaining headers in prefix/include/Magick++.
<p>To influence the options the configure script chooses, you may specify
'make' option variables when running the configure script. For example,
the command
<br>&nbsp;
<blockquote><tt>./configure CXX=CC CXXFLAGS=-O2 LIBS=-lposix</tt></blockquote>

<p><br>specifies additional options to the configure script.&nbsp; The
following table shows the available options.
<br>&nbsp;
<table BORDER WIDTH="90%" NOSAVE >
<caption>
<center>Environment Variables That Effect Configure</center>
</caption>

<tr>
<td>
<center><b>Make Option Variable</b></center>
</td>

<td>
<center><b>Description</b></center>
</td>
</tr>

<tr NOSAVE>
<td>
<center>CXX</center>
</td>

<td NOSAVE>Name of C++ compiler (e.g. 'CC -Xa') to use compiler 'CC -Xa'</td>
</tr>

<tr>
<td>
<center>CXXFLAGS</center>
</td>

<td>Compiler flags (e.g. '-g -O2') to compile with</td>
</tr>

<tr>
<td>
<center>CPPFLAGS</center>
</td>

<td>Include paths (-I/somedir) to look for header files</td>
</tr>

<tr>
<td>
<center>LDFLAGS</center>
</td>

<td>Library paths (-L/somedir) to look for libraries. Systems that support
the notion of a library run-path may additionally require -R/somedir or
'-rpath /somedir' in order to find shared libraries at run time.</td>
</tr>

<tr>
<td>
<center>LIBS</center>
</td>

<td>Extra libraries (-lsomelib) required to link</td>
</tr>
</table>

<h4>
Installing Linux RPMs</h4>
<a href="mailto:Alexander.Zimmermann@FMI.Uni-Passau.De">Dr. Alexander Zimmermann</a>
maintains Linux RPMs of ImageMagick and Magick++. These may be downloaded
from <a href="ftp://ftp.forwiss.uni-passau.de/pub/linux/local/ImageMagick/">ftp://ftp.forwiss.uni-passau.de/pub/linux/local/ImageMagick/</a>.
This site is&nbsp; mirrored periodically to the <a href="ftp://ftp.wizards.dupont.com/pub/ImageMagick/linux/">ImageMagick
linux directory</a> and from there to the many ImageMagick and Linux mirror
sites. Please note that the default version of the C++ compiler delivered
with the system may not be sufficient to support Magick++. Use of Egcs
1.1.2 or gcc 2.95.2 is strongly recommended under Linux.
<br>
<hr WIDTH="100%">
<center>
<h3>
Windows '9X, and Windows NT</h3></center>

<h4>
Visual C++</h4>
Windows NT is supported by an ImageMagick source package known as VisualMagick.&nbsp;
The VisualMagick source package provides sources to ImageMagick, Magick++,
add-on libraries (e.g. JPEG), and a ready-made Visual C++ build environment.
The easiest way to build Magick++ for Windows NT is to use the copy of
Magick++ provided with VisualMagick. However, the copy of Magick++ provided
with VisualMagick may be replaced with a newer Magick++ package if necessary.
<p>Obtain and extract the VisualMagick source package, making sure to preserver
subdirectories.
<p>VisualMagick provides three ready-made build envionments:
<blockquote><i>VisualMagick</i> (<tt>ImageMagick\VisualMagick\VisualMagick.dsw</tt>)
<br>&nbsp;&nbsp; Builds Debug and Release versions based on DLLs
<br><i>VisualMagickStatic</i> (<tt>ImageMagick\VisualMagick\VisualMagickStatic.dsw</tt>)
<br>&nbsp;&nbsp; Builds Debug and Release versions based on static libraries
<br><i>VisualMagickX11</i> (<tt>ImageMagick\VisualMagick\VisualMagickX11.dsw</tt>)
<br>&nbsp;&nbsp; Builds Debug and Release versions based on DLLs, including
X11 support</blockquote>
These build environments are based on similarly named workspaces in the
VisualMagick subdirectory.
<p>Open the desired workspace in Visual C++, select the menu named "Build",
the menu entry "Batch Build", and then click on the "Rebuild All" button
in order to build the complete VisualMagick package, including the Magick++
library.
<p>Executables and DLLs are output to the directory <i>ImageMagick\VisualMagick\bin.</i>
Linkable libraries are output to the directory <i>ImageMagick\VisualMagick\lib</i>.
<p>The VisualMagick build does not build the Magick++ demos or tests. These
are built by seperate workspaces.
<h5>
Magick++ Demos</h5>
In order to build the Magick++ demos, open the workspace <i>ImageMagick\VisualMagick\Magick++Demos.dsw
</i>and
do a Batch Build, using the same options as used for VisualMagick. The
executables for the demos are output to the <i>ImageMagick\VisualMagick\bin</i>
directory. The demos may be executed by running the batch script <i>Magick++Demo.bat
</i>in
the directory <i>ImageMagick\VisualMagick</i>, with output files written
to the directory <i>ImageMagick\Magick++\demo</i>. An alternative way to
run the demos is to add the directory <i>ImageMagick\VisualMagick\bin</i>
(with actual path prefix) to your path, and then cd to the <i>ImageMagick\Magick++\demo</i>
directory before running the demo (e.g. 'button').
<p>Available demos are:
<blockquote>button
<br>&nbsp;&nbsp; program to create a simple rectangular button with an
annotation
<br>flip
<br>&nbsp;&nbsp; program to invert and morph images in an existing GIF
animation
<br>demo
<br>&nbsp;&nbsp; program to demonstrate the image manipulation primitives
<br>shapes
<br>&nbsp;&nbsp; program to demonstrate use of the drawing primitives</blockquote>

<h5>
Magick++ Tests</h5>
In order to build the Magick++ tests, open the workspace <i>ImageMagick\VisualMagick\Magick++Tests.dsw</i>
and do a Batch Build, using the same options as used&nbsp; for VisualMagick.&nbsp;
The executables for the tests are output to the <i>ImageMagick\VisualMagick\bin</i>
directory. The tests may be executed by running the batch script <i>Magick++Tests.bat
</i>in
the directory <i>ImageMagick\VisualMagick</i>, with output files written
to the directory <i>ImageMagick\Magick++\tests</i>. An alternative way
to run the tests is to add the directory <i>ImageMagick\VisualMagick\bin</i>
(with actual path prefix) to your path, and then cd to the <i>ImageMagick\Magick++\demo</i>
directory to run the test (e.g. 'appendImages').
<p>The available tests are:
<blockquote>appendImages
<br>&nbsp;&nbsp; test STL appendImages function
<br>attributes
<br>&nbsp;&nbsp; tests for setting/getting Magick::Image attributes
<br>averageImages
<br>&nbsp;&nbsp; test STL averageImages function
<br>coalesceImages
<br>&nbsp;&nbsp; test STL coalesceImages function
<br>color
<br>&nbsp;&nbsp; test Magick::Color classes
<br>montageImages
<br>&nbsp;&nbsp; test STL montageImages function
<br>morphImages
<br>&nbsp;&nbsp; test STL morphImages function
<br>readWriteBlob
<br>&nbsp;&nbsp; test reading/writing BLOBs
<br>readWriteImages
<br>&nbsp;&nbsp; test STL readImages and writeImages functions</blockquote>

<h4>
Cygwin &amp; EGCS</h4>
It is possible to build both ImageMagick and Magick++ under the Cygwin
Unix-emulation environment for Windows NT. Obtain and install Cgywin from
<a href="http://sourceware.cygnus.com/cygwin/">http://sourceware.cygnus.com/cygwin/</a>
and update to the latest GNU compiler from <a href="http://www.xraylith.wisc.edu/~khan/software/gnu-win32/gcc.html">http://www.xraylith.wisc.edu/~khan/software/gnu-win32/gcc.html</a>.&nbsp;&nbsp;
X11R6.4 libraries are available from <a href="http://dao.gsfc.nasa.gov/software/grads/win32/X11R6.4/">http://dao.gsfc.nasa.gov/software/grads/win32/X11R6.4/</a>.&nbsp;
To build using Cygwin and EGCS, follow the instructions for building under
Unix. ImageMagick and Magick++ do not yet include support for building
Windows DLLs under Cygwin so do not enable dynamic libraries when building
ImageMagick.
</body>
</html>
