<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd"> 
<html>

<head>
<title>JasPer Software Reference Manual</title>
<style type="text/css">
body {
	color: black;
	background: white;
	font: 16pt sans-serif;
}
b {
	font-weight: bold;
}
tt {
	font-family: courier;
}
h1, h2, h3, h4, h5 {
	font-weight: bold;
}
h1 {
	font-size: 150%;
	text-transform: uppercase;
	background: lightblue;
}
h2 {
	font-size: 125%;
}
h3 {
	font-size: 110%;
}
a:link {
        color: blue;
}
a:vlink {
        color: gray;
}
a:alink {
        color: red;
}
</style>
</head>

<body>

<p>
<img alt="JasPer Logo" src="jasper_small.gif">

<h1>JasPer Software Reference Manual</h1>

<p>
&copy Copyright 2000-2001 Michael David Adams.

<p>
(Version: $Id$)

<hr>

<!-- *********************************************************************** -->


<h1><a name="toc">Table of Contents</a></h1>

<ul>
	<li><a href="#introduction">Introduction</a>
	<li><a href="#license">License</a>
	<li><a href="#version">Version Identification</a>
	<li><a href="#obtain">Obtaining the Software</a>
	<li><a href="#extract">Extracting the Software</a>
	<li><a href="#build">Building the Software</a>
	<li><a href="#libjasper">The <tt>libjasper</tt> Library</a>
	<li><a href="#apps">Demo Application Programs</a>
	<ul>
		<li><a href="#jaspercmd">The <tt>jasper</tt> Command</a>
		<li><a href="#imgcmpcmd">The <tt>imgcmp</tt> Command</a>
		<li><a href="#imginfocmd">The <tt>imginfo</tt> Command</a>
	</ul>
	<li><a href="#codecs">Codecs</a>
	<ul>
		<li><a href="#bmp">BMP Codec</a>
		<li><a href="#jp2">JP2 Codec</a>
		<li><a href="#jpc">JPC Codec</a>
		<li><a href="#jpg">JPG Codec</a>
		<li><a href="#mif">MIF Codec</a>
		<li><a href="#pgx">PGX Codec</a>
		<li><a href="#pnm">PNM Codec</a>
		<li><a href="#ras">RAS Codec</a>
	</ul>
	<li><a href="#bugs">Reporting Bugs</a>
	<li><a href="#jasperinfo">Additional JasPer Resources</a>
	<li><a href="#thename">Origin of the Name</a>
</ul>

<hr>

<!-- *********************************************************************** -->

<h1><a name="introduction">Introduction</a></h1>

<p>
JasPer is a collection of software (i.e., a library and application
programs) for the coding and manipulation of images.  Using the JasPer
software, one can easily encode and decode image data in a number of
popular formats.  For example, the JasPer software can handle image
data in the following formats (amongst others): JPEG 2000, JPEG, Portable
Bitmap, Windows BMP, and Sun Rasterfile.

<p>
The JasPer software is written in the C programming language.  This
language was chosen mainly due to the availability of C development
environments for most of today's computing platforms.  The JasPer
software consists of about 30k lines of code in total.  This code is
spread across a library and several application programs.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="license">License</a></h1>

<pre>
__START_OF_JASPER_LICENSE__

JasPer Software License

Copyright (c) 1999-2000, Image Power, Inc. and the University of British
Columbia, Canada.
Copyright (c) 2001 Michael David Adams.
All rights reserved.

IMAGE POWER JPEG-2000 PUBLIC LICENSE
************************************

WHEREAS:

Permission is hereby granted, free of charge, to any person (the "User")
obtaining a copy of this software and associated documentation, to deal
in the JasPer Software without restriction, including without limitation
the right to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the JasPer Software (in source and binary forms),
and to permit persons to whom the JasPer Software is furnished to do so,
provided further that the License Conditions below are met.

License Conditions
******************

A.  Redistributions of source code must retain the above copyright notice,
and this list of conditions, and the following disclaimer.

B.  Redistributions in binary form must reproduce the above copyright
notice, and this list of conditions, and the following disclaimer in
the documentation and/or other materials provided with the distribution.

C.  Neither the name of Image Power, Inc. nor any other contributor
(including, but not limited to, the University of British Columbia and
Michael David Adams) may be used to endorse or promote products derived
from this software without specific prior written permission.

D.  User agrees that it shall not commence any action against Image Power,
Inc., the University of British Columbia, Michael David Adams, or any
other contributors (collectively "Licensors") for infringement of any
intellectual property rights ("IPR") held by the User in respect of any
technology that User owns or has a right to license or sublicense and
which is an element required in order to claim compliance with ISO/IEC
15444-1 (i.e., JPEG-2000 Part 1).  "IPR" means all intellectual property
rights worldwide arising under statutory or common law, and whether
or not perfected, including, without limitation, all (i) patents and
patent applications owned or licensable by User; (ii) rights associated
with works of authorship including copyrights, copyright applications,
copyright registrations, mask work rights, mask work applications,
mask work registrations; (iii) rights relating to the protection of
trade secrets and confidential information; (iv) any right analogous
to those set forth in subsections (i), (ii), or (iii) and any other
proprietary rights relating to intangible property (other than trademark,
trade dress, or service mark rights); and (v) divisions, continuations,
renewals, reissues and extensions of the foregoing (as and to the extent
applicable) now existing, hereafter filed, issued or acquired.

E.  If User commences an infringement action against any Licensor(s) then
such Licensor(s) shall have the right to terminate User's license and
all sublicenses that have been granted hereunder by User to other parties.

F.  This software is for use only in hardware or software products that
are compliant with ISO/IEC 15444-1 (i.e., JPEG-2000 Part 1).  No license
or right to this Software is granted for products that do not comply
with ISO/IEC 15444-1.  The JPEG-2000 Part 1 standard can be purchased
from the ISO.

THIS DISCLAIMER OF WARRANTY CONSTITUTES AN ESSENTIAL PART OF THIS LICENSE.
NO USE OF THE JASPER SOFTWARE IS AUTHORIZED HEREUNDER EXCEPT UNDER
THIS DISCLAIMER.  THE JASPER SOFTWARE IS PROVIDED BY THE LICENSORS AND
CONTRIBUTORS UNDER THIS LICENSE ON AN ``AS-IS'' BASIS, WITHOUT WARRANTY
OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, WITHOUT LIMITATION,
WARRANTIES THAT THE JASPER SOFTWARE IS FREE OF DEFECTS, IS MERCHANTABLE,
IS FIT FOR A PARTICULAR PURPOSE OR IS NON-INFRINGING.  THOSE INTENDING
TO USE THE JASPER SOFTWARE OR MODIFICATIONS THEREOF FOR USE IN HARDWARE
OR SOFTWARE PRODUCTS ARE ADVISED THAT THEIR USE MAY INFRINGE EXISTING
PATENTS, COPYRIGHTS, TRADEMARKS, OR OTHER INTELLECTUAL PROPERTY RIGHTS.
THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE JASPER SOFTWARE
IS WITH THE USER.  SHOULD ANY PART OF THE JASPER SOFTWARE PROVE DEFECTIVE
IN ANY RESPECT, THE USER (AND NOT THE INITIAL DEVELOPERS, THE UNIVERSITY
OF BRITISH COLUMBIA, IMAGE POWER, INC., MICHAEL DAVID ADAMS, OR ANY
OTHER CONTRIBUTOR) SHALL ASSUME THE COST OF ANY NECESSARY SERVICING,
REPAIR OR CORRECTION.  UNDER NO CIRCUMSTANCES AND UNDER NO LEGAL THEORY,
WHETHER TORT (INCLUDING NEGLIGENCE), CONTRACT, OR OTHERWISE, SHALL THE
INITIAL DEVELOPER, THE UNIVERSITY OF BRITISH COLUMBIA, IMAGE POWER, INC.,
MICHAEL DAVID ADAMS, ANY OTHER CONTRIBUTOR, OR ANY DISTRIBUTOR OF THE
JASPER SOFTWARE, OR ANY SUPPLIER OF ANY OF SUCH PARTIES, BE LIABLE TO
THE USER OR ANY OTHER PERSON FOR ANY INDIRECT, SPECIAL, INCIDENTAL, OR
CONSEQUENTIAL DAMAGES OF ANY CHARACTER INCLUDING, WITHOUT LIMITATION,
DAMAGES FOR LOSS OF GOODWILL, WORK STOPPAGE, COMPUTER FAILURE OR
MALFUNCTION, OR ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSSES, EVEN IF
SUCH PARTY HAD BEEN INFORMED, OR OUGHT TO HAVE KNOWN, OF THE POSSIBILITY
OF SUCH DAMAGES.  THE JASPER SOFTWARE AND UNDERLYING TECHNOLOGY ARE NOT
FAULT-TOLERANT AND ARE NOT DESIGNED, MANUFACTURED OR INTENDED FOR USE OR
RESALE AS ON-LINE CONTROL EQUIPMENT IN HAZARDOUS ENVIRONMENTS REQUIRING
FAIL-SAFE PERFORMANCE, SUCH AS IN THE OPERATION OF NUCLEAR FACILITIES,
AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, DIRECT
LIFE SUPPORT MACHINES, OR WEAPONS SYSTEMS, IN WHICH THE FAILURE OF THE
JASPER SOFTWARE OR UNDERLYING TECHNOLOGY OR PRODUCT COULD LEAD DIRECTLY
TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR ENVIRONMENTAL DAMAGE
("HIGH RISK ACTIVITIES").  LICENSOR SPECIFICALLY DISCLAIMS ANY EXPRESS
OR IMPLIED WARRANTY OF FITNESS FOR HIGH RISK ACTIVITIES.  USER WILL NOT
KNOWINGLY USE, DISTRIBUTE OR RESELL THE JASPER SOFTWARE OR UNDERLYING
TECHNOLOGY OR PRODUCTS FOR HIGH RISK ACTIVITIES AND WILL ENSURE THAT ITS
CUSTOMERS AND END-USERS OF ITS PRODUCTS ARE PROVIDED WITH A COPY OF THE
NOTICE SPECIFIED IN THIS SECTION.

__END_OF_JASPER_LICENSE__
</pre>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="version">Version Identification</a></h1>

<p>
As the JasPer software continues to evolve over time, it is important
to be able to identify particular releases of the software.  Every
release of the JasPer software is named by a version identifier.
A version identifier is comprised of three integers separated by dots.
In order, the three integers correspond to the major, minor, and micro
version numbers for the software.  For example, the version identifier
"1.500.0" corresponds to a major version of 1, a minor version of 500,
and a micro version of 0.  In instances where the micro version is zero,
the version identifier may be truncated after the minor version number.
For example, the version identifier "1.500" is completely valid and
simply an abbreviation for "1.500.0".

<p>
Given two different releases of the JasPer software, one can easily
determine which one is more recent by comparing the version identifiers,
as follows: 1) if the major version numbers differ, the release with the
higher major version number is newer; 2) if the major version numbers are
equal and the minor version numbers differ, the release with the higher
minor version number is newer; or 3) if the major version numbers are
equal and the minor version numbers are equal, the release with the
higher micro version is newer.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="obtain">Obtaining the Software</a></h1>

<p>
The latest version of the JasPer software can be downloaded
from the following locations:

<ul>

	<li>
	<a href="http://www.ece.ubc.ca/~mdadams/jasper">
	JasPer Project Home Page</a>.

	<li>
	<a href="http://www.imagepower.com">
	Image Power Home Page</a>.

	<li>
	<a href="http://www.jpeg.org/software">
	JPEG Web Site Software Page
	</a>.
	(This link may not work yet, but it should begin working sometime in the
	near future.)

</ul>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="extract">Extracting the Software</a></h1>

<p>
The JasPer software is distributed in the form of a Zip file.
Therefore, in order to extract the contents of this
file, a program capable of handling Zip archives is required.
Such software is readily available for many different computing
platforms:

<ul>

	<li>
	<a href="ftp://ftp.info-zip.org/pub/infozip/UnZip.html">
	UnZip Software</a>.
	Unzip software for many different platforms
	(e.g., UNIX, DOS, MacOS, etc.).

	<li>
	<a href="http://www.winzip.com">WinZip</a>.
	Zip/UnZip software for Microsoft Windows.

</ul>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="build">Building the Software</a></h1>

<p>
Obviously, before the software can be built, the contents of the
archive file containing the JasPer distribution must be extracted.

<p>
The JasPer code should compile and run on any platform with
a C language implementation conforming to ISO/IEC 9899:1999 (i.e., the
ISO C language standard) and supporting a subset of ISO/IEC 9945-1:1990
(i.e., the POSIX C API).  Only limited POSIX support is required (i.e.,
the open, close, read, write, and lseek functions must be supported).

<p>
Portability was a major consideration during the design of the JasPer
software.  For this reason, the software makes minimal assumptions about
the runtime environment.  The code uses very little floating-point
arithmetic, most of which can be attributed to floating-point conversions in
printf's.  This minimal use of floating-point arithmetic should make
the code much easier to port to platforms lacking hardware support for
floating-point arithmetic.

<p>
The specific procedure required to build the JasPer software depends on the
type of system involved.  Only two different build methods are supported.
The first method is based on the well known make utility and should work
on most UNIX (or UNIX-like) systems.  The second method is specifically
tailored to the needs of Microsoft Visual C under Microsoft Windows.
In passing, we note that by using free software such as
<a href="http://www.cygwin.com">Cygwin</a>, one
can also create a UNIX-like environment under Microsoft Windows in which
to build JasPer using the first method.

<p>
If you are unfortunate enough to have a compiler that is not compliant
with ISO/IEC 9899:1999 (i.e., the C language standard), you may need
to make some changes to the code.  Unfortunately, even some of the
most popular C language implementations do not strictly comply with
the standard.  One such example is Microsoft Visual C 6.0.  Due to the
popularity of Visual C, however, several workarounds have been added to
the JasPer code to ensure that it will compile successfully with Visual C.

<p>
The current version of the JasPer software is known to compile in the
following environments:
<ul>

	<li>
	<! Standard Red Hat 7.0 Distribution>
	Red Hat Linux 7.0,
	GNU C 2.96,
	GNU Make 3.79.1

	<li>
	<! sisley>
	SunOS/SPARC 5.5.1,
	GNU C 2.7.2.1,
	SunOS make

	<li>
	<! jericho>
	SunOS/SPARC 5.7,
	GNU C 2.95,
	SunOS make

	<li>
	Windows 2000 Professional, Microsoft Visual C 6.0

</ul>

<p>
Of course, the software should compile successfully in many other
environments as well.
For example, past versions of JasPer have been reported to build
successfully in the following environments:
<ul>

	<li>
	Apple Macintosh PPC G3,
	Rhapsody 5.6,
	GNU C 2.7.2.1

	<li>
	Power Macintosh,
	GNU/Linux 2.2.15pre9,
	GNU C 2.95.2

	<li>
	Sun SPARC,
	Solaris 2.7,
	GNU C 2.95.2

	<li>
	Compaq/DEC Alpha,
	OSF/1 4.0F,
	GNU C 2.95.2

	<li>
	IBM PowerPC,
	AIX 4.2,
	GNU C 2.95.2

	<li>
	HP 9000/712,
	HP-UX 10.20,
	GNU C 2.95.2

	<li>
	SGI Origin 200,
	IRIX 6.5,
	GNU C 2.95.2

	<li>
	OpenVMS Alpha 7.2-1 with Compaq C compiler V6.2-008
	(after creating custom makefiles)

</ul>

<h2>Build Process for UNIX (or UNIX-Like) Systems</h2>

<p>
The JasPer software is intended to be built using the standard UNIX
<tt>make</tt> utility (in conjunction with a <tt>configure</tt> script).

<p>
If you need a C compiler that is reasonably compliant with the
ISO/IEC 9899:1999 standard, you can obtain GNU C from the <a
href="http://www.gnu.org">GNU Project web site</a>.  If you need an
implementation of Make, you can also obtain GNU Make from the the GNU
Project web site.  All GNU software is free software.

<p>
In what follows, "<tt>$TOPDIR</tt>" denotes the top level directory of
the JasPer software distribution (i.e., the directory containing the
file named <tt>configure</tt>).  To build the software, the following
steps are required (in order):

<ol>

	<li>
	<p>
	<b>Set the current working directory to the top level directory of
	the JasPer software distribution.</b>
	<p>
	To set the current working
	directory as required, type:
	<ul><li><tt>cd $TOPDIR</tt></ul>
	(where <tt>$TOPDIR</tt> is defined as described earlier in this
	section).
	<p>

	<li>
	<p>
	<b>Perform the initial configuration of the software.</b>
	<p>
	This is accomplished by running the <tt>configure</tt> script.
	This process allows important information about the
	system configuration
	to be determined.  The configure script also generates makefiles
	from makefile templates.  In theory, it should not be necessary
	to manually edit any of the makefile templates (i.e., the
	<tt>Makefile.in</tt> files) used by the <tt>configure</tt>
	program.  To invoke the <tt>configure</tt> program, type:
	<ul><li><tt>./configure</tt></ul>

	<p>
	The <tt>configure</tt> script accepts a number of options.
	These options can be listed by invoking the <tt>configure</tt>
	command with the <tt>--help</tt> option.
	Unless you know what you are doing, it is <b>strongly</b> recommended
	that you not override the default settings for <tt>configure</tt>.

	<p>
	In some cases, it may be necessary to explicitly disable the use of the
	IJG JPEG library (i.e., libjpeg).  This is accomplished by supplying
	the <tt>--disable-libjpeg</tt> option to <tt>configure</tt>.
	For example, such action may be
	required if the version of the JPEG library installed on your system is
	not compatible with the version of JasPer being built.
	Also, when building under the Cygwin environment, it may be neccessary
	to explicitly disable the use of the JPEG library.
	<p>

	<li>
	<p>
	<b>Compile and link the software.</b>
	<p>
	This is accomplished via the <tt>make</tt> command.
	To run the <tt>make</tt> program, type:
	<ul><li><tt>make</tt></ul>
	<p>

	<li>
	<p>
	<b>Install the software.</b>
	<p>
	This step may require special (e.g., superuser) privileges
	depending on the target directory for installation.
	(The default installation directories are normally under
	<tt>/usr/local</tt>.)
	To install the executables, libraries,
	include files, and other auxiliary data, type:
	<ul><li><tt>make install</tt></ul>
	<p>

</ol>

<p>
Presuming that the build was successful, the executables for
the JasPer application programs can be found in the directory
<tt>$TOPDIR/src/appl</tt>.

<h2>Build Process for Microsoft Visual C Studio under Microsoft Windows</h2>

<p>
With Microsoft Visual C, the entire build process is driven from
workspace and project files.  For the sake of convenience, all of the
workspace and project files necessary to build the JasPer software are
provided.

<p>
In what follows, "<tt>$TOPDIR</tt>" denotes the top level directory of the
JasPer software distribution (i.e., the directory containing the file named
<tt>configure</tt>).  To build the software, the following steps are required
(in order):

<ol>

	<li>
	<p>
	<b>Run Microsoft Visual C.</b>
	<p>

	<li>
	<p>
	<b>Open the JasPer workspace file.</b>
	<p>
	The JasPer workspace file is called <tt>jasper.dsw</tt>
	and can be found in the directory <tt>$TOPDIR/src/msvc</tt>.
	The workspace file can be opened using the "File" menu.
	<p>

	<li>
	<p>
	<b>Build the code.</b>
	<p>
	From the "Build Menu", select the "Batch Build" item.
	Ensure that all projects/configurations are selected.
	Then, click on the "Build" button.
	<p>

</ol>

<p>
Presuming that the build was successful, the release and debug versions
of the executables for the JasPer software can be found in the directories
<tt>$TOPDIR/src/msvc/Win32_Release</tt> and
<tt>$TOPDIR/src/msvc/Win32_Debug</tt>, respectively.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="libjasper">The <tt>libjasper</tt> Library</a></h1>

<p>
The <tt>libjasper</tt> library is the heart of the JasPer software.
This library provides means to encode, decode, and otherwise manipulate
image data.  Several different codecs are supported as detailed in the
section on <a href="#codecs">Codecs</a>.
The support for codecs is provided in a very modular manner.
This allows support for other codecs to be easily added.

<p>
The library consists of two distinct categories of code: 1) base/core
code, and 2) codec drivers.  The base code provides generic routines
for manipulating images and provides a framework for constructing codec
drivers.  The codec drivers provide a means for encoding/decoding images
in specific formats.  The library has been designed to be extensible
so that adding support for new image formats is a straightforward and
painless exercise.

<p>
In order to use <tt>libjasper</tt>, a C source file should include
the main JasPer library header file <tt>jasper/jasper.h</tt>.  This can
be accomplished with the following preprocessor directive:
<ul><li><tt>#include &lt jasper/jasper.h &gt </tt></ul>

<p>
The main header file includes all of the other library header files.
Therefore, in order to insulate code from possible changes to the names
of the other header files, one should only ever include the main library
header.

<p>The first usage of the library must always be to initialize it.
This is accomplished by calling <tt>jas_init</tt>.
If any other functionality of the library is used before this initialization
is performed, the resulting behavior is undefined.

<p>
Briefly, the JasPer library provides the following key classes:
<ul>

	<li>
	An image class.  This class is used to represent an image, and also
	provides access to codec drivers for encoding/decoding image data in
	various formats.

	<li>
	A sequence/matrix class.  This class provides matrix and two-dimensional
	sequence classes.

	<li>
	A I/O stream class.  This class provides I/O streams similar to that of
	the standard C library, but with additional functionality required by other
	code in JasPer.

	<li>
	A fixed-point number class.  This (templated) class is used for
	performing fixed-point arithmetic.

	<li>
	A tag-value parser class.  This class facilitates the parsing of
	tag-value pairs.  A tag-value pair is a string of the form "tag=value".
	Such pairs are used by some interfaces within JasPer in order to pass
	parameters.

	<li>
	A command line parser class.  This class allows the parsing of command
	lines.  This code is inspired by the getopt function available on most
	UNIX systems.

</ul>

<p>
All memory allocation in the <tt>libjasper</tt> library is performed
via the functions <tt>jas_malloc</tt>, <tt>jas_realloc</tt>,
<tt>jas_calloc</tt>, and <tt>jas_free</tt>.  If one is trying to port
the JasPer code to an embedded platform, it might be necessary to change
these functions to use a platform-specific memory allocator, rather than
<tt>malloc</tt> and friends.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="apps">Demo Application Programs</a></h1>

<p>
The JasPer software consists of the following programs:
<ol>
	<li>
	<a href="#jaspercmd"><tt>jasper</tt></a>.  The JasPer transcoder.
	<li>
	<a href="#imgcmpcmd"><tt>imgcmp</tt></a>.  An image comparison utility.
	<li>
	<a href="#imginfocmd"><tt>imginfo</tt></a>.  An image information utility.
</ol>

<p>
The use of these commands is described in the sections that follow.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="jaspercmd">The <tt>jasper</tt> Command</a></h1>

<h2>Synopsis</h2>

<p>
<tt>jasper</tt> [options]

<h2>Description</h2>

<p>
The <tt>jasper</tt> command converts image data from one format to another.
In other words, this command functions as a general-purpose transcoder.
Since the JPEG-2000 format is supported by this software,
it can be used as a JPEG-2000 encoder and/or decoder.

<h2>Options</h2>

<p>
The <tt>jasper</tt> program accepts the following options:
<ul>

	<li>
	<tt>--help</tt><br>
	Print usage information and exit.

	<li>
	<tt>--version</tt><br>
	Print the version and exit.

	<li>
	<tt>--input</tt> <i>file</i><br>
	<tt>-f <i>file</i></tt><br>
	Read the input image from the file named <i>file</i>.
	By default, the input image is read from standard input.

	<li>
	<tt>--input-format</tt> <i>format</i><br>
	<tt>-t</tt> <i>format</i><br>
	Specify the format of the input image as <i>format</i>.
	In most circumstances, this option should not be needed, as the format
	is normally autodetected by examining the image data directly
	or deduced from the input file name extension if an input file is
	specified (via the "--input" option).

	<li>
	<tt>--input-option</tt> <i>option</i><br>
	<tt>-o</tt> <i>option</i><br>
	Provide the option <i>option</i> to the decoder.
	The valid values for the argument <i>option</i> are determined
	by the input image format.  See below for more details.

	<li>
	<tt>--output</tt> <i>file</i><br>
	<tt>-F</tt> <i>file</i><br>
	Write the encoded image to the file named <i>file</i>.
	By default, the encoded image is written to standard output.

	<li>
	<tt>--output-format</tt> <i>format</i><br>
	<tt>-T</tt> <i>format</i><br>
	Produce the output image in the format indicated by <i>format</i>.
	The output format must be specified if an output file is not given
	(via the "--output" option).  If an output file is given and no
	output format is specified, an attempt will be made to deduce the
	correct format from the output file name extension.

	<li>
	<tt>--output-option</tt> <i>option</i><br>
	<tt>-O</tt> <i>option</i><br>
	Provide the option <i>option</i> to the encoder.
	The valid values for the argument <i>option</i> are determined by
	the output format.  See below for more details.

	<li>
	<tt>--terse</tt><br>
	<tt>-q</tt><br>
	Disable verbose mode.

</ul>

<p>
The argument <i>format</i> must have one of the following values:
<ul>
	<li>bmp (Windows BMP)
	<li>jp2 (JPEG-2000 JP2)
	<li>jpc (JPEG-2000 Code Stream)
	<li>jpg (JPEG)
	<li>pgx (PGX)
	<li>pnm (PNM/PGM/PPM)
	<li>mif (My Image Format)
	<li>ras (Sun Rasterfile)
</ul>

<h2>Examples</h2>

<p>
Suppose that we have an image stored in the PNM/PPM format in a file called
<tt>lena.ppm</tt>.  To encode this image (losslessly) in the JPEG-2000 JP2
format, and store the result in a file called <tt>lena.jp2</tt>, type:
<ul><li><tt>jasper --input lena.ppm --output lena.jp2
--output-format jp2</tt></ul>
<p>
Or, alternately (using short option names), type:
<ul><li><tt>jasper -f lena.ppm -F lena.jp2 -T jp2</tt></ul>

<p>
Suppose that we have a RGB color image stored in the JPEG-2000 JP2
format in a file called <tt>lena.jp2</tt>.  To encode this image in the PNM/PPM
format, and store the result in a file called <tt>lena.ppm</tt>, type:
<ul><li><tt>jasper --input lena.jp2 --output lena.ppm
--output-format pnm</tt></ul>
<p>
Or, alternately (using short option names), type:
<ul><li><tt>jasper -f lena.jp2 -F lena.ppm -T pnm</tt></ul>

<p>
Suppose that we have an image stored in the BMP format in a file called
<tt>lena.bmp</tt>.  To encode this image in a lossy manner at 100:1 compression
in the JPEG-2000 (code stream) format, and store the result in a file
called <tt>lena_lossy.jpc</tt>, type:
<ul><li><tt>jasper -f lena.bmp -F lena_lossy.jpc -T jpc
-O rate=0.01</tt>
</ul>

<p>
Suppose that we have an image stored in a file called
<tt>sachie.pnm</tt> in the PNM/PPM format, and we want to encode the image in
the JPEG-2000 (code stream) format and store the result in a file
named <tt>sachie_new.jpc</tt>.  Further, suppose that we want the JPEG-2000
format to employ the following parameters:
<ul>
<li>code blocks are 64 samples in width and 32 samples in height
<li>no multicomponent transform is to be employed
<li>4 resolution levels should be employed for each component
<li>the compression is lossy at 64:1
</ul>
<p>
In order to accomplish the above, type:
<ul><li><tt>jasper -f sachie.pnm -F sachie_new.jpc -T jpc -O cblkwidth=64
-O cblkheight=32 -O nomct -O numrlvls=4 -O rate=0.015625</tt></ul>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="imgcmpcmd">The <tt>imgcmp</tt> Command</a></h1>

<h2>Synopsis</h2>

<p>
<tt>imgcmp</tt> [options]

<h2>Description</h2>

<p>
The <tt>imgcmp</tt> command compares two images.
The two images being compared must have the same geometry
(i.e., the same width, height, number of components, component subsampling
factors, etc.).

<h2>Options</h2>

<p>
The following options are supported:
<ul>
	<li>
	<tt>-f</tt> <i>file</i><br>
	Read the primary (i.e., reference) image (for comparison purposes)
	from the file named <i>file</i>.

	<li>
	<tt>-F</tt> <i>file</i><br>
	Read the secondary image (for comparison purposes) from the file named
	<i>file</i>.

	<li>
	<tt>-m</tt> <i>metric</i><br>
	Use the difference metric specified by <i>metric</i>.
	The <i>metric</i> argument may assume one of the following values:
	<ul>
		<li>psnr .... peak signal to noise ratio
		<li>mse ..... mean squared error
		<li>rmse .... root mean squared error
		<li>pae ..... peak absolute error
		<li>mae ..... mean absolute error
		<li>equal ... equality (boolean)
	</ul>

</ul>

<p>
The "<tt>-f</tt>" and "<tt>-F</tt>" options must always be specified.
There is currently no way to explicitly specify the format of the images.
If the format of either image cannot be autodetected, the command will
exit with an error.

<h2>Examples</h2>

<p>
Suppose that we have two slightly different versions of an image
stored in files <tt>original.pgm</tt> and <tt>reconstructed.pgm</tt>.
In order to
calculate the difference between these images using the PSNR metric, type:
<ul><li><tt>imgcmp -f original.pgm -F reconstructed.pgm -m psnr</tt></ul>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="imginfocmd">The <tt>imginfo</tt> Command</a></h1>

<h2>Synopsis</h2>

<p>
<tt>imginfo</tt> [options]

<h2>Description</h2>

<p>
The <tt>imginfo</tt> command displays information about an image.
This command is really only intended to be used from shell scripts for
testing purposes.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="codecs">Codecs</a></h1>

<p>
The JasPer software provides implementations of several popular codecs.
Likely, the one of most interest is the JPEG-2000 JP2 codec.
The sections that follow the various codecs are described in more detail.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="bmp">BMP Codec</a></h1>

<p>One of the most popular image formats on the Microsoft Windows platform,
is Microsoft's BMP format.  The BMP codec in JasPer was written without the
benefit of the BMP format specification from Microsoft.  This means
that the BMP support will inevitably not work correctly for all valid
BMP files.

<h2>Encoder Options</h2>

<p>The encoder does not support any special options.

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="jp2">JP2 Codec</a></h1>

<p>One of the two image formats specified in the JPEG-2000 Part-1 standard
(i.e., ISO/IEC 15444-1) is the so called ``JP2'' format.
In JasPer only the minimal subset of the JP2 format (as required for
compliance) is implemented.

<h2>Encoder Options</h2>

<p>The encoder supports all of the same options as the JPC encoder.

<h2>Decoder Options</h2>

<p>The decoder supports all of the same options as the JPC decoder.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="jpc">JPC Codec</a></h1>

<p>One of the two image formats specified in the JPEG-2000 Part-1 standard
(i.e., ISO/IEC 15444-1) is the so called JPEG-2000 code stream format.
The JPC codec in JasPer implements this format.

<p>
The design of the JPEG-2000 codec implementation was driven
by several key concerns: execution speed, memory usage, robustness,
portability, modularity, maintainability, and extensibility.  In some
cases, however, during the design process, modularity, portability, and
understandability of the code were weighed more heavily than execution
speed and memory usage.  Code understandability and portability
were critical considerations since this software was intended to be
used as a reference implementation of JPEG-2000 codec.

<h2>Encoder Options</h2>

<p>
The following options are supported by the encoder:
<ul>

	<li>
	<tt>imgareatlx=</tt><i>x</i><br>
	Set the x-coordinate of the top-left corner of the image area to <i>x</i>.

	<li>
	<tt>imgareatly=</tt><i>y</i><br>
	Set the y-coordinate of the top-left corner of the image area to <i>y</i>.

	<li>
	<tt>tilegrdtlx=</tt><i>x</i><br>
	Set the x-coordinate of the top-left corner of the tiling grid to <i>x</i>.

	<li>
	<tt>tilegrdtly=</tt><i>y</i><br>
	Set the y-coordinate of the top-left corner of the tiling grid to <i>y</i>.

	<li>
	<tt>tilewidth=</tt><i>w</i><br>
	Set the nominal tile width to <i>w</i>.

	<li>
	<tt>tileheight=</tt><i>h</i><br>
	Set the nominal tile height to <i>h</i>.

	<li>
	<tt>prcwidth=</tt><i>w</i><br>
	Set the precinct width to <i>w</i>.  The argument <i>w</i> must be an
	integer power of two.  The default value is 32768.

	<li>
	<tt>prcheight=</tt><i>h</i><br>
	Set the precinct height to <i>h</i>.
	The argument <i>h</i> must be an integer power of two.
	The default value is 32768.

	<li>
	<tt>cblkwidth=</tt><i>w</i><br>
	Set the nominal code block width to <i>w</i>.  The argument
	<i>w</i> must be an integer power of two.  The default value is 64.

	<li>
	<tt>cblkheight=</tt><i>h</i><br>
	Set the nominal code block height to <i>h</i>.  The argument
	<i>h</i> must be an integer power of two.  The default value is 64.

	<li>
	<tt>mode=</tt><i>m</i><br>
	Set the coding mode to <i>m</i>.  The argument <i>m</i> must have
	one of the following values:
	<ul>
		<li><tt>int</tt> ... integer mode
		<li><tt>real</tt> ... real mode
	</ul>
	If lossless coding is desired, the integer mode must be used.
	By default, the integer mode is employed.
	The choice of mode also determines which multicomponent and wavelet
	transforms (if any) are employed.

	<li>
	<tt>rate=</tt><i>r</i><br>
	Specify the target rate.  The argument <i>r</i> is a positive
	real number.  Since a rate of one corresponds to no compression,
	one should never need to explicitly specify a rate greater
	than one.  By default, the target rate is considered to be infinite.

	<li>
	ilyrrates=<i>rate_0[,rate_1,...,rate_{N-1}]</i>
	<br>
	Specify the rates for any intermediate layers.  The argument to
	this option is a comma separated list of <i>N</i> rates.
	Each rate is a positive real number.
	The rates must increase monotonically.
	The last rate in the list should be less than or equal to the
	overall rate (as specified with the <tt>rate</tt> option).

	<li>
	<tt>prg=</tt><i>p</i><br>
	Set the progression order to <i>p</i>.  The argument <i>p</i>
	must have one of the following values:
	<ul>
		<li><tt>lrcp</tt> ...
		  layer-resolution-component-position (LRCP) progressive
		  (i.e., rate scalable)
		<li><tt>rlcp</tt> ...
		  resolution-layer-component-position (RLCP) progressive
		  (i.e., resolution scalable)
		<li><tt>rpcl</tt> ...
		  resolution-position-component-layer (RPCL) progressive
		<li><tt>pcrl</tt> ...
		  position-component-resolution-layer (PCRL) progressive
		<li><tt>cprl</tt> ...
		  component-position-resolution-layer (CPRL) progressive
	</ul>
	By default, LRCP progressive ordering is employed.
	Note that the RPCL and PCRL progressions are not valid for all possible
	image geometries.  (See ISO/IEC 15444-1 for more details.)

	<li>
	<tt>nomct</tt><br>
	Disallow the use of any multicomponent transform.

	<li>
	<tt>numrlvls=</tt><i>n</i><br>
	Set the number of resolution levels to <i>n</i>.
	The argument <i>n</i> must be an integer that is greater
	than or equal to one.  The default value is 5.

	<li>
	<tt>sop</tt><br>
	Generate SOP marker segments.

	<li>
	<tt>eph</tt><br>
	Generate EPH marker segments.

	<li>
	<tt>lazy</tt><br>
	Enable lazy coding mode (a.k.a. arithmetic coding bypass).

	<li>
	<tt>termall</tt><br>
	Terminate all coding passes.

	<li>
	<tt>segsym</tt><br>
	Use segmentation symbols.

	<li>
	<tt>vcausal</tt><br>
	Use vertically stripe causal contexts.

	<li>
	<tt>pterm</tt><br>
	Use predictable termination.

	<li>
	<tt>resetprob</tt><br>
	Reset the probability models after each coding pass.

	<li>
	<tt>numgbits=</tt><i>n</i><br>
	Set the number of guard bits to <i>n</i>.

</ul>

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<h2>Rate Specification</h2>

<p>
All rates are specified in terms of compression factors (i.e.,
as reciprocals of compression ratio) and not as actual bit rates!
Although image coding folks frequently use the number of bits per pixel
to specify rate, this quantity is often inconvenient to use when dealing
with images that have differing sample precisions.  Furthermore, the
number of bits per pixel is not well defined for multicomponent images
with distinct subsampling factors.  The compression factor, however, is
independent of sample precision and well defined for all types of images.
For these reasons, JasPer does uses the compression factor and not the
number of bits per pixel to specify rates.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="jpg">JPG Codec</a></h1>

<p>For lossy coding, arguably, the most popular image format is specified
in the JPEG standard (i.e., ISO/IEC 10918-1).  In JasPer, the JPG codec
implements this format.

<p>The JPEG support in JasPer requires the JPEG library from the Independent
JPEG Group (IJG).  For legal reasons, the IJG JPEG library source code
is not included with JasPer.  The source code for this library can be
downloaded from the <a href="http://www.ijg.org">IJG web site</a>.

<h2>Encoder Options</h2>

<p>The JPG encoder does not support any special options.

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="pgx">PGX Codec</a></h1>

<p>The JPEG-2000 Verification Model software employs a non-standard
format called PGX.  In JasPer, this format is handled by the PGX codec.
The PGX format can only handle single components images, and consequently,
is of limited use.

<h2>Encoder Options</h2>

<p>The encoder does not support any special options.

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="mif">MIF Codec</a></h1>

<p>
The support for the MIF format is experimental.
It is intended to be used for advanced testing of the JasPer JPEG-2000
codec implementation.

<h2>MIF Encoder Options</h2>

<p>The encoder does not support any special options.

<h2>MIF Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="pnm">PNM Codec</a></h1>

<h2>Encoder Options</h2>

<p>The support for the PNM/PGM/PPM format is complete.  Therefore,
the use of this format is favored over the BMP format.  A (nonstandard)
extension has also been added to the support for the PNM format so that
it can handle images with signed sample values.

<p>The following options are provided by the PNM encoder:
<ul>

	<li>
	<tt>text</tt><br>
	Use a non-raw (i.e., non-binary) flavor of PNM format.

</ul>

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="ras">RAS Codec</a></h1>

<h2>Encoder Options</h2>

<p>The encoder does not support any special options.

<h2>Decoder Options</h2>

<p>The decoder does not support any special options.

<p>Go to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="bugs">Reporting Bugs</a></h1>

<p>
If you are unfortunate enough to encounter any
problems with JasPer, please submit a bug report.
In order to ensure that we are able to properly process your bug report,
always ensure that it includes the following information:
<ul>
	<li>The version of JasPer in which the problem was found.
	<li>The details of the run-time system (i.e., operating system)
	<li>The compiler that you are using (i.e., vendor, version number).
	<li>The command line options used when the problem was observed.
	<li>Indicate whether or not the problem is reproducible.  If the
	problem is reproducible, indicate the exact steps required to
	reproduce the problem.
	<li>A description of the problem that you are experiencing.
</ul>
<p>
It is essential that you include all of the above information.
Your complete bug report should be sent to
<a href="mailto:mdadams@ieee.org">mdadams@ieee.org</a>.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="jasperinfo">Additional JasPer Resources</a></h1>

<p>
For more information about the JasPer software, please visit the following
web pages:
<ul>

	<li>
	<a href="http://www.ece.ubc.ca/~mdadams/jasper">
	JasPer Project Home Page.
	</a>

	<li>
	<a href="http://www.imagepower.com">
	Image Power Home Page.
	</a>

	<li>
	<a href="http://groups.yahoo.com/group/jasper-project">
	JasPer Project Mailing List Home Page.
	</a>
	By joining this group, one can easily obtain new information
	about the JasPer Project in a timely fashion.  The associated
	mailing list is used to announce new releases of the software
	and disseminate other important information about JasPer.

</ul>

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

<!-- *********************************************************************** -->

<h1><a name="thename">Origin of the Name</a></h1>

<p>
The JasPer software is named, in part, after Jasper National Park,
the largest national park in the Canadian Rockies with 10,878 square
kilometres of mountain wilderness. As it happens, jasper is also the name
of an opaque cryptocrystalline variety of quartz used for ornamentation
or as a gemstone---hence, the implication that the software is precious
(i.e., like a gemstone).  Lastly, the name "jasper" was also chosen because
it contains a letter "J" followed subsequently by a letter "P", not unlike
the abbreviation "JP" that is associated with the JPEG-2000 standard.

<p>
Return to the <a href="#toc">Table of Contents</a>.

<hr>

</body>

</html>
