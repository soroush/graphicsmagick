<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Changelog.rst</title>
<link rel="stylesheet" href="docutils-articles.css" type="text/css" />
</head>
<body>

<div class="banner">
<img src="images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
  <input type="hidden" name="domains" value="www.graphicsmagick.org" />
  <input type="hidden" name="sitesearch" value="www.graphicsmagick.org" />
<span class="nowrap"><input type="text" name="q" size="25" maxlength="255" />&nbsp;<input type="submit" name="sa" value="Search" /></span>
</form>
</div>

<div class="navmenu">
<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="project.html">Project</a></li>
  <li><a href="download.html">Download</a></li>
  <li><a href="README.html">Install</a></li>
  <li><a href="Hg.html">Source</a></li>
  <li><a href="NEWS.html">News</a> </li>
  <li><a href="utilities.html">Utilities</a></li>
  <li><a href="programming.html">Programming</a></li>
  <li><a href="reference.html">Reference</a></li>
</ul>
</div>
<div class="document">


<p>2022-09-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>configure.ac: Search for a usable Python program, and then use
it to execute Python scripts. This avoids depending on a default
name.</li>
<li>magick/common.h (MAGICK_FUNC_MALLOC_2ARG): Add macros to support
GCC malloc attributes which accept arguments.</li>
</ul>
</blockquote>
<p>2022-09-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>www/formats.rst: Add AVIF image file format to the list.</li>
</ul>
</blockquote>
<p>2022-09-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>www/formats.rst: Add JPEG XL to the list.</li>
<li>utilities/tests/icc-transform.tap: Preserve output files from
icc-transform.tap until 'make clean' in order to allow inspection.</li>
</ul>
</blockquote>
<p>2022-09-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>fuzzing/oss-fuzz-build.sh: Disable using libxml2 in oss-fuzz
build due to it being arbitrarily broken in the oss-fuzz build for
several weeks with no solution offered.  Nobody seems to care any
more.</li>
<li>coders/svg.c: Re-enable support for XML internal subset.</li>
</ul>
</blockquote>
<p>2022-09-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Magick++/lib/Image.cpp (Magick::Image::colorMapSize): Restore
non-const Image::colorMapSize() since it caused an ABI change.
Debian bug 1019158: &quot;graphicsmagick breaks gnudatalanguage
autopkgtest: undefined symbol: _ZN6Magick5Image12colorMapSizeEv&quot;.</li>
</ul>
</blockquote>
<p>2022-09-04    Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* jpeg/* Upgraded jpeg library to Version 9e 16-Jan-2022.</blockquote>
<p>2022-09-04    Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* VisualMagick/jpeg/LIBRARY.txt Exclude files cjpegalt.c and
djpegalt.c; cjpeg.c and djpeg.c are already excluded.</blockquote>
<p>2022-08-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>fuzzing/oss-fuzz-build.sh: Add messaging regarding building
libxml2 and jasper.</li>
</ul>
</blockquote>
<p>2022-08-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Makefile.am (release): Generate ASCII armored &quot;.asc&quot; files
directly since this seems to be prefered over converting from
&quot;.bin&quot; files.</li>
</ul>
</blockquote>
<p>2022-08-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Makefile.am: Some people prefer GPG signature files in ASCII
armored &quot;.asc&quot; format rather than the OpenPGP binary &quot;.bin&quot;
format, so produce both.</li>
</ul>
</blockquote>
<p>2022-08-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Fix UTF-8 encoding errors in some text and source files.  A few
more issues remain.  Assistance is appreciated.</li>
</ul>
</blockquote>
<p>2022-08-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (ReadSVGImage): Address concern from SourceForge
issue #669 &quot;Segmentation fault caused by null pointer dereference
by checking return from xmlCreatePushParserCtxt().  Address
oss-fuzz 48340 &quot;graphicsmagick:coder_SVG_fuzzer:
Heap-use-after-free in xmlParseInternalSubset&quot; by disabling
internal subset handling until the parser context handling is
fixed.</li>
</ul>
</blockquote>
<p>2022-08-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Updated the news.</li>
</ul>
</blockquote>
<p>2022-08-10    Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* VisualMagick/configure/stdafx.h Added define WIN32_LEAN_AND_MEAN
* VisualMagick/configure/configure.exe New rebuild.</blockquote>
<p>2022-08-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* fuzzing/oss-fuzz-build.sh (MAGICK_LIBS): Add libsharpyuv.a to
the list of libraries to check for.</blockquote>
<p>2022-08-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* configure.ac: When checking for libwmf, add a test for
libsharpyuv.  Not yet tested but maybe it will work.</blockquote>
<p>2022-08-07    Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* VisualMagickconfigureconfigure.cpp: The /MACHINE:x86
should never be placed to DLL dependency list.</blockquote>
<p>2022-08-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/tga.c: Enhance 'coder' level trace information.
Normalize on 'unsigned int' as much as possible in order to use
natural types and likely help with function inligning.</blockquote>
<p>2022-08-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/tga.c (ReadTGAImage): Remove a defective validation of
comment length, which blocked reading some sample TGA files from
the &quot;Encyclopedia Of Graphics File Formats&quot; book.</blockquote>
<p>2022-07-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/heif.c: If module is compiled, but HasHEIF is not
defined, then RegisterHEIFImage/UnregisterHEIFImage
implementations are empty.</p>
<p>* coders/jxl.c: If module is compiled, but HasJXL is not defined,
then RegisterJXLImage/UnregisterJXLImage implementations are
empty.</p>
</blockquote>
<p>2022-07-30  Sam James        &lt;<a class="reference external" href="mailto:sam&#37;&#52;&#48;gentoo&#46;org">sam<span>&#64;</span>gentoo<span>&#46;</span>org</a>&gt;</p>
<blockquote>
* configure.ac: Fix Bashism in maintainer-mode check.</blockquote>
<p>2022-07-27  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/miff.c (ImportRLEPixels): Add missing type cast for
consistency with other similar code.  However, I do not believe
this is an actual bug.  Addresses GraphicsMagick bug 670 &quot;Missing
cast&quot;.</blockquote>
<p>2022-07-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* magick/magic.c: Auto-detect JXL format based on file header.
Much thanks to Quyen Pham Ngoc for noticing that this was missing.</blockquote>
<p>2022-06-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* NEWS.txt: Update with news since last release.</blockquote>
<p>2022-05-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* Magick++/lib/Image.cpp: colorMapSize() method for returning the
number of colormap entries should be a const method.  Change is
due to an email from Miro Kropáček on May 29, 2022.</blockquote>
<p>2022-05-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* www/Magick++/Image.rst: Update getIndexes() and
getConstIndexes() documention to mention that the selected region
is defined by a prior getPixels(), getConstPixels(), or
setPixels() call.  This is inspired by private email from Miro
Kropáček on May 8, 2022.</p>
<p>* coders/jpeg.c (WriteJPEGImage): Change &quot;arithmetic&quot; to
&quot;arithmetic-coding&quot; in order to match ImageMagick's previously
existing syntax.</p>
<p>* coders/png.c (ReadOnePNGImage): Assure that entire image list is
freed. Addresses oss-fuzz 46997 &quot;graphicsmagick:coder_MNG_fuzzer:
Indirect-leak in MagickMallocCleared&quot;.  This is a new issue due to
incrementally seeking the complete correct error-handling cleanup.</p>
</blockquote>
<p>2022-05-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* doc/options.imdoc: Add documentation for -define
jpeg:arithmetic.</blockquote>
<p>2022-04-30  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* coders/jpeg.c: Optionally enable arithmetic coder in JPG images.
gm convert -define jpeg:arithmetic=true testimg.jpg arith.jpg</blockquote>
<p>2022-04-27  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;yandex&#46;com">JaFojtik<span>&#64;</span>yandex<span>&#46;</span>com</a>&gt;</p>
<blockquote>
* jpeg/: Update aged JPG library to version 9d.</blockquote>
<p>2022-04-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/ps.c (ReadPSImage): Assure that 'bounds' structure is
initialized.</p>
<p>* coders/ept.c (ReadEPTImage): Assure that 'bounds' structure is
initialized.</p>
<p>* magick/log.c (IsEventLogged): New function to report if a
particular event will be logged.  Us this as much as possible
throughout the software to replace use of IsEventLogging().</p>
<p>* coders/png.c (ReadMNGImage): Address oss-fuzz 46913
&quot;graphicsmagick:coder_WPG_fuzzer: Indirect-leak in
MagickMallocCleared&quot; which was partially pre-existing and
partially due to a botched fix for oss-fuzz 46843.</p>
</blockquote>
<p>2022-04-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/png.c (ReadMNGImage): Address oss-fuzz 46843
&quot;graphicsmagick:enhance_fuzzer: Heap-use-after-free in CloseBlob&quot;.</blockquote>
<p>2022-04-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/{msl.c, svg.c, url.c}: When __MINGW32__ is defined, then
only define _MSC_VER if it is not already defined.  Also define
_MSC_VER with a somewhat useful value.  This change is prompted by
a posting by &quot;LM&quot; to the graphicsmagick-core list on April 17,
2022.</blockquote>
<p>2022-04-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/png.c (ReadOnePNGImage): Make sure that ping_num_trans is
initialized.  Fixes oss-fuzz 46760 &quot;Use-of-uninitialized-value -
ReadOnePNGImage&quot;.</blockquote>
<p>2022-04-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* magick/blob.c (OpenBlob): Allocate setvbuf() buffer externally
rather than implicitly.  I am hoping that the several oss-fuzz
reports about using uninitalized memory from glibc's
_IO_file_doallocate() go away.</blockquote>
<p>2022-04-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/heif.c (RegisterHEIFImage): Support reading AVIF via
libheif if it supports decoding AVIF.</blockquote>
<p>2022-04-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* www/index.rst: Update the Coverity Analysis Metrics.</p>
<p>* magick/display.c (MagickXAnnotateEditImage): Quiet Coverity
376901 &quot;Identical code for different branches
(IDENTICAL_BRANCHES)&quot;.</p>
<p>* coders/svg.c (ReadSVGImage): Default to not allowing external
entity substitution.  Quiets Coverity 376905
&quot;unsafe_xml_parse_config (UNSAFE_XML_PARSE_CONFIG)&quot;.</p>
<p>* coders/msl.c (ProcessMSLScript): Default to not allowing
external entity substitution.  Quiets Coverity 376913
&quot;unsafe_xml_parse_config (UNSAFE_XML_PARSE_CONFIG)&quot;.</p>
<p>* magick/error.c (ThrowLoggedException): Silence Coverity 376912
&quot;Dereference after null check (FORWARD_NULL)&quot;.</p>
<p>* coders/jp2.c (ReadJP2Image): Silence Coverity 264883 &quot;Division
or modulo by float zero (DIVIDE_BY_ZERO)&quot;.
(ReadJP2Image): Fix Coverity 376911 &quot;Improper use of negative
value (NEGATIVE_RETURNS)&quot;.</p>
<p>* magick/xwindow.c (MagickXMakeMagnifyImage): Fix Coverity 376906
&quot;Division or modulo by zero (DIVIDE_BY_ZERO)&quot;.</p>
<p>* magick/resize.c (ScaleImage): Fix Coverity 376908 &quot;Resource leak
(RESOURCE_LEAK)&quot;.</p>
<p>* magick/locale.c (GetLocaleMessageFromTag): Fix Coverity 376907
&quot;Out-of-bounds read (OVERRUN)&quot;.</p>
<p>* magick/render.c (DrawPrimitive): Fix Coverity 376904
&quot;Out-of-bounds access (OVERRUN)&quot;.</p>
</blockquote>
<p>2022-03-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* version.sh: Prepare for 1.3.38 release.</p>
<p>* Makefile.am (release, snapshot): Generate SHA-256 checksums as a
by-product of 'make snapshot' or 'make release'.</p>
<p>* www/download.rst: Add documentation regaring SHA-256 checksums.</p>
<p>* NEWS.txt: Update the news again.</p>
<p>* coders/miff.c (ReadMIFFImage): Validate claimed bzip2-compressed
row length prior to reading data into fixed size buffer.
Addresses SourceForge bug #664 &quot;[bug]Heap buffer overflow when
parsing MIFF&quot;.  This severe bug only impacts builds with BZLIB
support.</p>
</blockquote>
<p>2022-03-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/jxl.c (ReadJXLImage): Added patch from Tobias Mark to
optimize EOF detection if the input file size is known.  Avoids
waiting for ReadBlob() to report EOF.</blockquote>
<p>2022-03-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* Magick++/lib/Magick++/Include.h: Support 'ReadResource'.</blockquote>
<p>2022-03-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/jxl.c: Added some debug logging instrumentation so we can
see the information the JXL reader is provided by libjxl.</p>
<p>* configure.ac: JXL is working well enough to enable it by
default.</p>
</blockquote>
<p>2022-03-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/jxl.c (WriteJXLImage): Call JxlEncoderCloseInput() so
that encoder output is not corrupt.  JXL passes testsuite tests
now!</p>
<p>* magick/command.c (CompareImageCommand): Add -auto-orient support
to 'compare'.  This tries to assure that the two images are right
side up before comparing.</p>
</blockquote>
<p>2022-03-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/jxl.c (WriteJXLImage): Work to update JXL writer code to
compile clean with libjxl v0.7.0.  Still not working!</blockquote>
<p>2022-02-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/heif.c (ReadHEIFImage): Pass decode options to
heif_decode_image().  Include rough implementation of progress
monitor support but leave it disabled since libheif does not
currently invoke the callbacks.</p>
<p>* coders/jpeg.c (ReadJPEGImage): Store embedded profiles in image,
even if in 'ping' mode.  This addresses a problem discovered when
interfacing with minimagick (Debian bug #1006374 &quot;graphicsmagick
breaks ruby-mini-magick&quot;).</p>
<p>* coders/url.c (ReadURLImage): Deal with libxml2 not offering HTTP
or FTP capabilities.  It seems that support for FTP has now been
removed by default.</p>
</blockquote>
<p>2022-02-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* README.txt: Recomend using JasPer 3.0.0 (or later).</p>
<p>* VisualMagick/magick/magick_config.h.in: Disable building with
bundled JasPer sources by default since the bundled sources are
archaic.</p>
<p>* coders/jp2.c: Fix compilation with JasPer 3.0.0 (which is now
released).</p>
</blockquote>
<p>2022-02-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* magick/fx.c (ColorizeImagePixelsCB): Apply clipping and rounding
to handle out of range values and provide the most accurate
result.  Addresses SourceForge bug #662 &quot;Broken -colorize&quot;.</blockquote>
<p>2022-01-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/jp2.c (ReadJP2Image): Jasper 3.0.0 hid the functions we
were using so switch back to using jas_image_decode(), but in a
more secure way than before.</blockquote>
<p>2022-01-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* www/download.rst: Document how to retrieve the PGP signing key
from a key server.</blockquote>
<p>2022-01-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/jp2.c (ReadJP2Image): Always use
ThrowJP2ReaderException().  Should address oss-fuzz Issue 43979:
&quot;graphicsmagick:enhance_fuzzer: ASSERT: jas_get_ctx() ==
jas_global.ctx&quot;.</blockquote>
<p>2022-01-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* utilities/tests: Write compressed MIFF files to reduce disk
space usage.</p>
<p>* magick/command.c (CompareImageCommand): Support '-compress'
option.</p>
<p>* coders/mpc.c: Fix warnings from GCC 11.</p>
<p>* coders/miff.c: Fix warnings from GCC 11.</p>
</blockquote>
<p>2022-01-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* coders/jp2.c: Adaptations to work with Jasper 3.0.0's
jas_init_library() and other related functions.  Add missing
jas_cleanup_thread().  Do not request a higher memory limit than
JasPer's own limit in order to avoid a warning.</blockquote>
<p>2022-01-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/miff.c (ReadMIFFImage): Do not proceed to next image in
sequence unless the character read is the expected 'i' character.
Inspired by GraphicsMagick bug #659 &quot;Can not escape $0 in a batch
command&quot;.</p>
<p>* coders/heif.c (ReadHEIFImage): Take row stride into account when
reading pixel rows. Add support for 'ping' mode.  Add header magic
detection.  Add module aliases.  Add useful traces.</p>
</blockquote>
<p>2022-01-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/jxl.c: Added preliminary JPEG XL support written by
Tobias Mark.  From Code Merge Request #14: &quot;Added (basic) jpeg-xl
support&quot;.  The writer is not working properly at this time.</p>
<p>* www/formats.rst: Add HEIF to the list of supported formats.</p>
<p>* README.txt: Expand the text regarding support for HEIF/HVEC
support.</p>
</blockquote>
<p>2022-01-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* coders/heif.c: HEIF reader written by Tobias Mark.  From
SourceForge Code Merge Request #15: &quot;Added minimal heif support&quot;.</p>
<p>* magick/blob.c (ReadBlobStream): Fix EOF logic similar to
ReadBlob. Addresses oss-fuzz 43617
&quot;graphicsmagick:coder_P7_fuzzer: Use-of-uninitialized-value in
WritePNMImage&quot;.</p>
</blockquote>
<p>2022-01-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* magick/blob.c (ReadBlob): Fix EOF logic. Addresses oss-fuzz
43490 &quot;graphicsmagick:coder_PNM_fuzzer: Use-of-uninitialized-value
in SyncImageCallBack&quot;.</p>
<p>* coders/pnm.c (ReadPNMImage): Make sure that we don't lose the
image exception.</p>
</blockquote>
<p>2022-01-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* magick/blob.c: Throw a user-friendly exception when the read
limit has been exceeded.</p>
<p>* coders/jpeg.c: Add tracing and fallback for longjmp().</p>
<p>* coders/pict.c (DecodeImage): Assure that the claimed scanline
length is within the bounds of the scanline allocation to avoid
possible heap overflow.</p>
</blockquote>
<p>2022-01-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* magick/blob.c: Make sure that read resource limiting can support
very large files.</blockquote>
<p>2022-01-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<p>* magick/resource.c: Add support for setting a read resource limit
via the MAGICK_LIMIT_READ environment variable, or similar to
'-limit read 5mb'.</p>
<p>* magick/resource.h: Added a ReadResource limit, which is a limit
on how many uncompressed file bytes may be read while decoding an
input file.</p>
</blockquote>
<p>2022-01-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
* ChangeLog.2021: Rotate ChangeLog for 2022.  Happy New Year!</blockquote>
</div>

<hr class="docutils">
<div class="document">
    <p><a href="Copyright.html">Copyright</a> © GraphicsMagick Group 2002 - 2022<!--SPONSOR_LOGO--></p>
</div>
</body>
</html>
