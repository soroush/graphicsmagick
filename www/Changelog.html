<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.13.1: http://docutils.sourceforge.net/" />
<title></title>
<link rel="stylesheet" href="docutils-articles.css" type="text/css" />
</head>
<body>

<div class="banner">
<img src="images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
	<input type="hidden" name="domains" value="www.graphicsmagick.org" />
	<input type="hidden" name="sitesearch" value="www.graphicsmagick.org" />
    <span class="nowrap"><input type="text" name="q" size="25" maxlength="255" />&nbsp;<input type="submit" name="sa" value="Search" /></span>
</form>
</div>

<div class="navmenu">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="project.html">Project</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="README.html">Install</a></li>
<li><a href="Hg.html">Source</a></li>
<li><a href="NEWS.html">News</a> </li>
<li><a href="utilities.html">Utilities</a></li>
<li><a href="programming.html">Programming</a></li>
<li><a href="reference.html">Reference</a></li>
</ul>
</div>
<div class="document">


<p>2018-02-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/txt.c (ReadTXTImage): Validate that file size is
sufficient for claimed image properties.  Fixes oss-fuzz issue
5960 &quot;graphicsmagick/coder_TXT_fuzzer: Out-of-memory in
graphicsmagick_coder_TXT_fuzzer&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/tga.c (ReadTGAImage): Only allow 1 and 8 bit
colormapped/grey images. Fixes oss-fuzz issue 6314
&quot;graphicsmagick/coder_ICB_fuzzer: Undefined-shift in
ReadTGAImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/bmp.c (ReadBMPImage): Detect and report when BMP height
value is out of range (too negative). Fixes oss-fuzz issue 6394
&quot;graphicsmagick/coder_BMP_fuzzer: Integer-overflow in
ReadBMPImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/rla.c (ReadRLAImage): Detect when RLE decoding is
producing too many samples and report as an error.  Fixes oss-fuzz
issue 6312 &quot;graphicsmagick/coder_RLA_fuzzer: Timeout in
graphicsmagick_coder_RLA_fuzzer&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/fits.c (ReadFITSImage): Validate that file size is
sufficient for claimed image properties.  Fixes oss-fuzz issue
6429 &quot;graphicsmagick/coder_FITS_fuzzer: Timeout in
graphicsmagick_coder_FITS_fuzzer&quot;. (Credit to OSS-Fuzz)</li>
<li>magick/image.c (CloneImage): Check image pixel limits in
CloneImage() when it is used to change the image dimensions.  This
avoids depending on the using code to detect and report such
issues.</li>
<li>coders/xcf.c (ReadXCFImage): Check image pixel limits after each
CloneImage() to assure that image is within specified resource
limits.  Fixes oss-fuzz issue 6399 &quot;graphicsmagick/enhance_fuzzer:
Timeout in graphicsmagick_enhance_fuzzer&quot;. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-16  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (TracePath): TracePath() was not
correctly processing multiple sets of cubic or quadratic
Bezier coordinates when the previous path data command was
not a cubic or quadratic Bezier command.  This would result
in the first control point being equal to the current path
point instead of being computed using the current path
point and the second control point of the previous Bezier
command.</li>
</ul>
</blockquote>
<p>2018-02-15  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (TracePath): TracePath() was not
consuming commas (if present) at the end of a set of
points when multiple sets of points were specified for
various path commands (e.g., line, Bezier). This
resulted in the remaining sets of points being ignored
(fixed).</li>
</ul>
</blockquote>
<p>2018-02-15  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (TraceArcPath): No points are generated
by TraceArcPath() if the starting and ending arc points
are the same.  For this case, the coordinate count was not
being set to zero before returning (fixed).</li>
</ul>
</blockquote>
<p>2018-02-15  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (DrawImage): Clipping of polygons in
DrawImage() would sometime result in a starting pixel
location that was greater than the ending pixel location,
causing a subsequent call to GetImagePixelsEx() to fail
due a column count &lt;= 0.  Modified the clipping code to
eliminate this condition, and also to return early if
the polygon lies completely outside the image boundaries.
Also fixed variable declarations from a previous commit
that were causing problems for the C89 compiler.</li>
</ul>
</blockquote>
<p>2018-02-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/topol.c (ReadTOPOLImage): Detect EOF immediately rather
than spinning.  Fixes oss-fuzz issue 6303
&quot;graphicsmagick/coder_TOPOL_fuzzer: Timeout in
graphicsmagick_coder_TOPOL_fuzzer&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/dcm.c (DCM_SetupRescaleMap): Avoid excessive left shift.
Fixes oss-fuzz issue 6256 &quot;graphicsmagick/coder_DCM_fuzzer:
Undefined-shift in DCM_SetupRescaleMap&quot;. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/wpg.c (ExtractPostscript): Detect EOF on input while
transferring bytes to Postscript file.  Fixes oss-fuzz issue 6087
&quot;graphicsmagick/coder_WPG_fuzzer: NULL&quot;.  (Credit to OSS-Fuzz)</li>
<li>coders/pdb.c (ReadPDBImage): Quit attempting to read image data
immediately at EOF. Fixes oss-fuzz issue 6252
&quot;graphicsmagick/coder_PDB_fuzzer: Timeout in
graphicsmagick_coder_PDB_fuzzer&quot;.  (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/topol.c (ReadTOPOLImage): Avoid index out of bounds when
input filename does not use a file extension. Fixes oss-fuzz issue
6237 &quot;graphicsmagick/coder_TOPOL_fuzzer: Index-out-of-bounds in
ReadTOPOLImage&quot;.  (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-12  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (DrawImage): Object/group opacity,
when set in DrawImage(), would overwrite the fill
and stroke opacities. This has been fixed so that
the object opacity is now combined with the fill
and stroke opacities per the SVG spec.</li>
</ul>
</blockquote>
<p>2018-02-12  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/mat.c Fix oss-fuzz issue 6021. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/dcm.c (ReadDCMImage): Avoid undefined left shift of
short.  Fix memory leaks in error reporting paths.  Fixes oss-fuzz
issue 6217 &quot;graphicsmagick/coder_DCM_fuzzer: Undefined-shift in
ReadDCMImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/dpx.c (ReadDPXImage): Avoid divide by zero exception in
the case where reference high equals reference low. Fixes oss-fuzz
issue 6215 &quot;graphicsmagick/coder_DPX_fuzzer: Divide-by-zero in
ReadDPXImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/topol.c (ReadTOPOLImage): Avoid index out of bounds when
input filename does not use a file extension.</li>
<li>coders/cut.c (ReadCUTImage): Avoid index out of bounds when
input filename does not use a file extension. Fixes oss-fuzz issue
6218 &quot;graphicsmagick/coder_CUT_fuzzer: Index-out-of-bounds in
ReadCUTImage&quot;.  (Credit to OSS-Fuzz)</li>
<li>coders/pwp.c (ReadPWPImage): Force temporary file to be read as
a SFW file rather than autodetecting the format.  Fixes oss-fuzz
issue 6220 &quot;graphicsmagick/coder_PWP_fuzzer: Indirect-leak in
AllocateImage&quot;.  (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/pdf.c (WritePDFImage): Assure that xref memory is not
leaked if an exception is thrown.  Fixes oss-fuzz issue 5968
&quot;graphicsmagick/coder_EPDF_fuzzer: Direct-leak in MagickRealloc&quot;.
(Credit to OSS-Fuzz)</li>
<li>coders/tim.c (ReadTIMImage): Verify that 4/8 bit PSX TIM
provides a CLUT and verify indexes.  Fixes oss-fuzz issue 5972
&quot;graphicsmagick/coder_TIM_fuzzer: Null-dereference WRITE in
ReadTIMImage&quot;.  (Credit to OSS-Fuzz)</li>
<li>coders/topol.c (ReadTOPOLImage): Add additional header
validations.  Fixes oss-fuzz issue 5975
&quot;graphicsmagick/coder_TOPOL_fuzzer: Floating-point-exception in
ReadTOPOLImage&quot;.  (Credit to OSS-Fuzz)</li>
<li>coders/bmp.c (ReadBMPImage): Avoid possible division by zero
when decoding CIE primary values. (Credit to OSS-Fuzz)</li>
<li>magick/export.c (ExportViewPixelArea): Only compute
unsigned_maxvalue if sample_bits &lt;= 32.</li>
<li>magick/import.c (ImportViewPixelArea): Assure that
double_maxvalue minus double_minvalue is not zero, or excessively
close to zero to avoid divide by zero exception or impossible
scaling factor. (Credit to OSS-Fuzz)
(ImportViewPixelArea): Only compute unsigned_maxvalue if
sample_bits &lt;= 32.</li>
</ul>
</blockquote>
<p>2018-02-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/dib.c (ReadDIBImage): Validate that image width is not
too negative such that it's absolute value can not fit in 32-bit
unsigned width. Resolves oss-fuzz issue 6179
&quot;graphicsmagick/coder_ICO_fuzzer: Integer-overflow in
ReadDIBImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/dcm.c (funcDCM_BitsStored): Validate DICOM datum size.
Use a different means to determine the maximum value which does
not use excessive shifting.  Resolves oss-fuzz issue 6165
&quot;graphicsmagick/coder_DCM_fuzzer: Undefined-shift in
funcDCM_BitsStored&quot;. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/dpx.c (ReadWordU32BE): Add casts to avoid default type
promotion from unsigned char to 'int' leading to undefined
behavior for 24 bit shift. Fixes oss-fuzz issue 6058
&quot;graphicsmagick/coder_DPX_fuzzer: Undefined-shift in
ReadWordU32BE&quot;. (Credit to OSS-Fuzz)
(ReadDPXImage): Require that the file has at least one element.
Add bountiful casts for values which are left-shifted.  Fixes
oss-fuzz issue 5962 &quot;graphicsmagick/coder_DPX_fuzzer:
Undefined-shift in ReadDPXImage&quot;. (Credit to OSS-Fuzz)</li>
<li>coders/dcm.c (DCM_ReadOffsetTable): Add casts Add casts to avoid
default type promotion from unsigned char to 'int' leading to
undefined behavior for 16 bit shift. Fixes oss-fuzz issue 5980
&quot;graphicsmagick/coder_DCM_fuzzer: Undefined-shift in
DCM_ReadOffsetTable&quot;. (Credit to OSS-Fuzz)</li>
<li>magick/module_aliases.h (ModuleAliases): Add missing mapping
from &quot;ICODIB&quot; format to &quot;DIB&quot; module.</li>
<li>magick/import.c (ImportUInt32Quantum): Add casts to avoid
default type promotion from unsigned char to 'int' leading to
undefined behavior for 24 bit shift.  Fixes oss-fuzz
&quot;graphicsmagick/coder_P7_fuzzer: Undefined-shift in
ImportRGBQuantumType&quot;. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-07  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/wpg.c Fix oss-fuzz issue 5964
&quot;graphicsmagick/coder_MAT_fuzzer: Heap-use-after-free in
GetLocaleExceptionMessage&quot;. (Credit to OSS-Fuzz)</li>
</ul>
</blockquote>
<p>2018-02-07    Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/render.c (IsPoint): Fixed a bug in which
IsPoint() would reject as a valid coordinate value
strings that did not begin with an integer: e.g.,
&quot;0.25&quot; would be accepted, but &quot;.25&quot; would not.</li>
</ul>
</blockquote>
<p>2018-02-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/cut.c (ReadCUTImage): Fix DestroyImageInfo() of NULL
pointer leading to assertion.  Fixes oss-fuzz issue 6067
&quot;graphicsmagick/coder_CUT_fuzzer: Unknown signal in
DestroyImageInfo&quot;.</li>
<li>coders/tga.c (ReadTGAImage): Throw exception rather than
assertion for unexpected comment size.  Fixes oss-fuzz issue 5961
&quot;graphicsmagick/coder_ICB_fuzzer: ASSERT: (size_t)
(tga_info.id_length+1) == commentsize&quot;.</li>
</ul>
</blockquote>
<p>2018-02-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/pdf.c (WritePDFImage): Free 'xref' allocation before
error return.  Fixes oss-fuzz issue 5968
&quot;graphicsmagick/coder_EPDF_fuzzer: Direct-leak in MagickRealloc&quot;.</li>
</ul>
</blockquote>
<p>2018-02-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/pdb.c (ReadPDBImage): Fix heap buffer overflow if blob is
already at EOF when comment is read.  Fixes oss-fuzz issue 5997
&quot;graphicsmagick/coder_PDB_fuzzer: Heap-buffer-overflow in
SetImageAttribute&quot;.</li>
<li>coders/dpx.c (ReadDPXImage): Fix memory leak of user data if
user data is truncated.  Fix consumption of one uninitialized
stack bytes.  Fixes oss-fuzz issue 5973:
graphicsmagick/enhance_fuzzer: Direct-leak in ReadDPXImage.</li>
<li>coders/pnm.c (ReadPNMImage): Detect and avoid division by zero.
Fixes Issue 5959 in oss-fuzz: graphicsmagick/coder_P7_fuzzer:
Divide-by-zero in ReadPNMImage</li>
<li>magick/xwindow.c (MagickXClientMessage): Eliminate valgrind
gripe about use of uninitialized stack data by clearing allocation
to zero.
(MagickXMakeImage): Eliminate valgrind gripe about use of
uninitialized heap data by clearing allocation to zero.</li>
<li>coders/pwp.c (ReadPWPImage): Remove bogus EOF test on an image
with a closed blob.  Fixes Issue 5957 in oss-fuzz:
graphicsmagick/coder_PWP_fuzzer: ASSERT: image-&gt;blob-&gt;type !=
UndefinedStream.</li>
<li>www/Changes.rst: Fix typo with spelling &quot;ChangeLog-2017.html&quot;.
Resolves SourceForge issue #544 &quot;dead link 2017 changelog page on
GraphicsMagick web site&quot;.</li>
</ul>
</blockquote>
<p>2018-02-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c (OpenModule): Assure that status is initialized.
Resolves Coverity 261207 &quot;Uninitialized scalar variable&quot;.</li>
<li>wand/magick_wand.c (MagickHasColormap): New function to test if
the image has a colormap.
(MagickIsGrayImage): New function to test if the image uses only
gray pixels.
(MagickIsMonochromeImage): New function to test if the image uses
only monochrome pixels.
(MagickIsOpaqueImage): New function to test if the image uses only
opaque pixels.
(MagickIsPaletteImage): New function to test if the image is based
on a color palette.  Above functions are written by Troy Patteson
and submitted via SourceForge patch #54 &quot;Wand API patches: has
colormap, is gray image, is monochrome image, is opaque image, is
palette image&quot;.</li>
<li>fuzzing: Added initial OSS-Fuzz integration by Alex Gaynor.
From SourceForge patch #55 &quot;OSS-Fuzz integration&quot;</li>
<li>coders/png.c (ReadMNGImage): Fix free using possibly unallocated
pointer value.</li>
<li>magick/blob.c (SeekBlob): Remove implicit extension of blob
allocation size based on seek offset.  Besides making an
assumption about how the blob memory was allocated, this
reallocation feature provides a memory DOS opportunity.  Resolves
issue reported by Alex Gaynor via email entitled &quot;Security issue
with memory management in Magick++&quot; to the graphicsmagick-security
list on 31 Jan 2018.
(SeekBlob):</li>
<li>coders/jpeg.c (ReadIPTCProfile): Revert inadvertent wrong return
codes added by change on December 9, 2017.  Fixes SourceForge bug
542 &quot;Improper call to JPEG library in state 201&quot; since 1.3.28.</li>
</ul>
</blockquote>
<p>2018-02-01  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/annotate.c (RenderFreetype): Fixed the text
opacity computation in RenderFreeType(). This bug caused
the text fill color to bleed into the character cell when
the SVG &quot;fill-opacity&quot; is less than 1.0.</li>
</ul>
</blockquote>
<p>2018-02-01  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/attribute.c (CloneImageAttributes): Fixed a bug
in which the source image attributes would always replace
the destination image attributes instead of being appended
to them, and the destination image attributes would become
a memory leak.</li>
</ul>
</blockquote>
<p>2018-01-31  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): Fixed a bug in which the
x,y location values for a &lt;text&gt; or &lt;tspan&gt; were overwritten
by the x,y values for the next &lt;tspan&gt; before the previous
values were used.  This caused the text associated with the
previous &lt;text&gt; or &lt;tspan&gt; to appear at the location
specified for the next &lt;tspan&gt;.</li>
</ul>
</blockquote>
<p>2018-01-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Use !defined(SupportMagickModules) to enable
static module loader.  Fixes SourceForge bug #543 &quot;Multiple
definition of &quot;OpenModule&quot; (etc) when cross-compiling shared&quot;.</li>
</ul>
</blockquote>
<p>2018-01-29  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): A terminating '&gt;' in
a geometry string is interpreted to mean that the dimensions
of an image should only be changed if its width or height
exceeds the geometry specification.  For an unapparent and
undocumented reason, a terminating '&gt;', if present, was
being nulled out, making this feature unusable for SVG files
(now fixed).</li>
</ul>
</blockquote>
<p>2018-01-29  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (ReadSVGImage): If there is a geometry string
in image_info-&gt;size (e.g., gm convert -size &quot;50x50%&quot; in.svg
out.png), AllocateImage() sets image-&gt;columns and image-&gt;rows
to the width and height values from the size string.  However,
this makes no sense if the size string was something like
&quot;50x50%&quot; (we'll get columns = rows = 50).  So we set columns
and rows to 0 after AllocateImage(), which is the same as if
no size string was supplied by the client.  This also results
in svg_info.bounds to be set to 0,0 (i.e., unknown), so that
svg_info.bounds will later be set using the image size
information from either the svg &quot;canvas&quot; width/height or from
the viewbox.  Later, variable &quot;page&quot; is set from
svg_info-&gt;bounds. Then the geometry string in image_info-&gt;size
gets applied to the (now known) &quot;page&quot; width and height when
SvgStartElement() calls GetMagickGeometry(), and the intended
result is obtained.</li>
</ul>
</blockquote>
<p>2018-01-24  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): When the density (DPI)
is specified using the ImageInfo::density member, the derived
scale factor is incorrectly applied a second time to the
width and height members of variable RectangleInfo page.
Fixes SourceForge ticket #451.</li>
</ul>
</blockquote>
<p>2018-01-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Use a lazy-loader for static modules with the
same external interface as the lazy-loader for dynamic modules.</li>
</ul>
</blockquote>
<p>2018-01-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Prepare for 1.3.28 release.</li>
</ul>
</blockquote>
<p>2018-01-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Update with changes since previous release.</li>
</ul>
</blockquote>
<p>2018-01-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>PerlMagick/Magick.xs: Compiler warnings reduction.</li>
<li>magick/pixel_cache.h: Mark GetPixels(), GetIndexes(), and
GetOnePixel() as deprecated.  Compilers may produce a warning if
these functions are used.</li>
<li>magick/pixel_cache.c (InterpolateColor): Return black pixel if
InterpolateViewColor() reports failure.</li>
<li>coders/png.c (ReadMNGImage): Fix memory leak of chunk and
mng_info in error path.</li>
<li>coders/gif.c (ReadGIFImage): Fix memory leak of global colormap.</li>
</ul>
</blockquote>
<p>2018-01-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/symbols.h: Fix SourceForge issue #538 &quot;13 symbols in
common with ImageMagick despite --enable-symbol-prefix&quot;.</li>
<li>coders/bmp.c (ReadBMPImage): Fix non-terminal loop due to
unexpected bit-field mask value.  Fixes SourceForge issue #541
&quot;Infinite Loop in ReadBMPImage (coders/bmp.c)&quot;.</li>
<li>coders/jpeg.c (JPEGMessageHandler): Revert code added on
2017-07-08 to promote certain warnings from libjpeg to errors.
Add code to rationalize claimed image dimensions based on file
size.  Resolves SourceForge issue #539 &quot;Images with libjpeg
warnings result in error&quot;.</li>
</ul>
</blockquote>
<p>2018-01-11  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>coders/wpg.c Recursive ReadImage could return multiple scenes</dt>
<dd>fixed.</dd>
</dl>
</li>
</ul>
</blockquote>
<p>2018-01-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c (ReadOnePNGImage): Quit 'passes' loop if we
encountered an error</li>
<li>magick/pixel_cache.c (SetNexus): Fix heap overwrite in
AcquireCacheNexus() due to SetNexus() not using an allocated
staging area for the pixels like it should.  This problem impacts
all 1.3.X releases.  Resolves SourceForge issues 532
&quot;heap-buffer-overflow bug in ReadWPGImage&quot; and #531
&quot;heap-buffer-overflow in AcquireCacheNexus&quot;.</li>
<li>magick/pixel_cache.c (InterpolateViewColor): Now returns
MagickPassFail rather than void.  Code using this function is
updated to check the return status.</li>
</ul>
</blockquote>
<p>2018-01-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/describe.c (DescribeImage): Discriminate between
AcquireImagePixels() returning NULL or finding a transparent
pixel.  This avoids use of a null pointer in the case where
AcquireImagePixels() returns NULL.</li>
</ul>
</blockquote>
<p>2017-12-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Change static module initialization to be based
on an initialized list rather than a squence of function calls in
order to simplify maintenance and possibly address future
requirements.</li>
</ul>
</blockquote>
<p>2017-12-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Copyright.txt: Bump copyright years and rotate ChangeLog.</li>
</ul>
</blockquote>
</div>
</body>
</html>
