<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.13.1: http://docutils.sourceforge.net/" />
<title></title>
<link rel="stylesheet" href="docutils-articles.css" type="text/css" />
</head>
<body>

<div class="banner">
<img src="images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
	<input type="hidden" name="domains" value="www.graphicsmagick.org" />
	<input type="hidden" name="sitesearch" value="www.graphicsmagick.org" />
    <span class="nowrap"><input type="text" name="q" size="25" maxlength="255" />&nbsp;<input type="submit" name="sa" value="Search" /></span>
</form>
</div>

<div class="navmenu">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="project.html">Project</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="README.html">Install</a></li>
<li><a href="Hg.html">Source</a></li>
<li><a href="NEWS.html">News</a> </li>
<li><a href="utilities.html">Utilities</a></li>
<li><a href="programming.html">Programming</a></li>
<li><a href="reference.html">Reference</a></li>
</ul>
</div>
<div class="document">


<p>2018-02-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/xwindow.c (MagickXClientMessage): Eliminate valgrind
gripe about use of uninitialized stack data by clearing allocation
to zero.
(MagickXMakeImage): Eliminate valgrind gripe about use of
uninitialized heap data by clearing allocation to zero.</li>
<li>coders/pwp.c (ReadPWPImage): Remove bogus EOF test on an image
with a closed blob.  Fixes Issue 5957 in oss-fuzz:
graphicsmagick/coder_PWP_fuzzer: ASSERT: image-&gt;blob-&gt;type !=
UndefinedStream.</li>
<li>www/Changes.rst: Fix typo with spelling &quot;ChangeLog-2017.html&quot;.
Resolves SourceForge issue #544 &quot;dead link 2017 changelog page on
GraphicsMagick web site&quot;.</li>
</ul>
</blockquote>
<p>2018-02-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c (OpenModule): Assure that status is initialized.
Resolves Coverity 261207 &quot;Uninitialized scalar variable&quot;.</li>
<li>wand/magick_wand.c (MagickHasColormap): New function to test if
the image has a colormap.
(MagickIsGrayImage): New function to test if the image uses only
gray pixels.
(MagickIsMonochromeImage): New function to test if the image uses
only monochrome pixels.
(MagickIsOpaqueImage): New function to test if the image uses only
opaque pixels.
(MagickIsPaletteImage): New function to test if the image is based
on a color palette.  Above functions are written by Troy Patteson
and submitted via SourceForge patch #54 &quot;Wand API patches: has
colormap, is gray image, is monochrome image, is opaque image, is
palette image&quot;.</li>
<li>fuzzing: Added initial OSS-Fuzz integration by Alex Gaynor.
From SourceForge patch #55 &quot;OSS-Fuzz integration&quot;</li>
<li>coders/png.c (ReadMNGImage): Fix free using possibly unallocated
pointer value.</li>
<li>magick/blob.c (SeekBlob): Remove implicit extension of blob
allocation size based on seek offset.  Besides making an
assumption about how the blob memory was allocated, this
reallocation feature provides a memory DOS opportunity.  Resolves
issue reported by Alex Gaynor via email entitled &quot;Security issue
with memory management in Magick++&quot; to the graphicsmagick-security
list on 31 Jan 2018.
(SeekBlob):</li>
<li>coders/jpeg.c (ReadIPTCProfile): Revert inadvertent wrong return
codes added by change on December 9, 2017.  Fixes SourceForge bug
542 &quot;Improper call to JPEG library in state 201&quot; since 1.3.28.</li>
</ul>
</blockquote>
<p>2018-02-01  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/annotate.c (RenderFreetype): Fixed the text
opacity computation in RenderFreeType(). This bug caused
the text fill color to bleed into the character cell when
the SVG &quot;fill-opacity&quot; is less than 1.0.</li>
</ul>
</blockquote>
<p>2018-02-01  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/attribute.c (CloneImageAttributes): Fixed a bug
in which the source image attributes would always replace
the destination image attributes instead of being appended
to them, and the destination image attributes would become
a memory leak.</li>
</ul>
</blockquote>
<p>2018-01-31  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): Fixed a bug in which the
x,y location values for a &lt;text&gt; or &lt;tspan&gt; were overwritten
by the x,y values for the next &lt;tspan&gt; before the previous
values were used.  This caused the text associated with the
previous &lt;text&gt; or &lt;tspan&gt; to appear at the location
specified for the next &lt;tspan&gt;.</li>
</ul>
</blockquote>
<p>2018-01-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Use !defined(SupportMagickModules) to enable
static module loader.  Fixes SourceForge bug #543 &quot;Multiple
definition of &quot;OpenModule&quot; (etc) when cross-compiling shared&quot;.</li>
</ul>
</blockquote>
<p>2018-01-29  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): A terminating '&gt;' in
a geometry string is interpreted to mean that the dimensions
of an image should only be changed if its width or height
exceeds the geometry specification.  For an unapparent and
undocumented reason, a terminating '&gt;', if present, was
being nulled out, making this feature unusable for SVG files
(now fixed).</li>
</ul>
</blockquote>
<p>2018-01-29  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (ReadSVGImage): If there is a geometry string
in image_info-&gt;size (e.g., gm convert -size &quot;50x50%&quot; in.svg
out.png), AllocateImage() sets image-&gt;columns and image-&gt;rows
to the width and height values from the size string.  However,
this makes no sense if the size string was something like
&quot;50x50%&quot; (we'll get columns = rows = 50).  So we set columns
and rows to 0 after AllocateImage(), which is the same as if
no size string was supplied by the client.  This also results
in svg_info.bounds to be set to 0,0 (i.e., unknown), so that
svg_info.bounds will later be set using the image size
information from either the svg &quot;canvas&quot; width/height or from
the viewbox.  Later, variable &quot;page&quot; is set from
svg_info-&gt;bounds. Then the geometry string in image_info-&gt;size
gets applied to the (now known) &quot;page&quot; width and height when
SvgStartElement() calls GetMagickGeometry(), and the intended
result is obtained.</li>
</ul>
</blockquote>
<p>2018-01-24  Greg Wolfe  &lt;<a class="reference external" href="mailto:gregory&#46;wolfe&#37;&#52;&#48;kodakalaris&#46;com">gregory<span>&#46;</span>wolfe<span>&#64;</span>kodakalaris<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/svg.c (SVGStartElement): When the density (DPI)
is specified using the ImageInfo::density member, the derived
scale factor is incorrectly applied a second time to the
width and height members of variable RectangleInfo page.
Fixes SourceForge ticket #451.</li>
</ul>
</blockquote>
<p>2018-01-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Use a lazy-loader for static modules with the
same external interface as the lazy-loader for dynamic modules.</li>
</ul>
</blockquote>
<p>2018-01-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Prepare for 1.3.28 release.</li>
</ul>
</blockquote>
<p>2018-01-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Update with changes since previous release.</li>
</ul>
</blockquote>
<p>2018-01-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>PerlMagick/Magick.xs: Compiler warnings reduction.</li>
<li>magick/pixel_cache.h: Mark GetPixels(), GetIndexes(), and
GetOnePixel() as deprecated.  Compilers may produce a warning if
these functions are used.</li>
<li>magick/pixel_cache.c (InterpolateColor): Return black pixel if
InterpolateViewColor() reports failure.</li>
<li>coders/png.c (ReadMNGImage): Fix memory leak of chunk and
mng_info in error path.</li>
<li>coders/gif.c (ReadGIFImage): Fix memory leak of global colormap.</li>
</ul>
</blockquote>
<p>2018-01-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/symbols.h: Fix SourceForge issue #538 &quot;13 symbols in
common with ImageMagick despite --enable-symbol-prefix&quot;.</li>
<li>coders/bmp.c (ReadBMPImage): Fix non-terminal loop due to
unexpected bit-field mask value.  Fixes SourceForge issue #541
&quot;Infinite Loop in ReadBMPImage (coders/bmp.c)&quot;.</li>
<li>coders/jpeg.c (JPEGMessageHandler): Revert code added on
2017-07-08 to promote certain warnings from libjpeg to errors.
Add code to rationalize claimed image dimensions based on file
size.  Resolves SourceForge issue #539 &quot;Images with libjpeg
warnings result in error&quot;.</li>
</ul>
</blockquote>
<p>2018-01-11  Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>coders/wpg.c Recursive ReadImage could return multiple scenes</dt>
<dd>fixed.</dd>
</dl>
</li>
</ul>
</blockquote>
<p>2018-01-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c (ReadOnePNGImage): Quit 'passes' loop if we
encountered an error</li>
<li>magick/pixel_cache.c (SetNexus): Fix heap overwrite in
AcquireCacheNexus() due to SetNexus() not using an allocated
staging area for the pixels like it should.  This problem impacts
all 1.3.X releases.  Resolves SourceForge issues 532
&quot;heap-buffer-overflow bug in ReadWPGImage&quot; and #531
&quot;heap-buffer-overflow in AcquireCacheNexus&quot;.</li>
<li>magick/pixel_cache.c (InterpolateViewColor): Now returns
MagickPassFail rather than void.  Code using this function is
updated to check the return status.</li>
</ul>
</blockquote>
<p>2018-01-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/describe.c (DescribeImage): Discriminate between
AcquireImagePixels() returning NULL or finding a transparent
pixel.  This avoids use of a null pointer in the case where
AcquireImagePixels() returns NULL.</li>
</ul>
</blockquote>
<p>2017-12-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/static.c: Change static module initialization to be based
on an initialized list rather than a squence of function calls in
order to simplify maintenance and possibly address future
requirements.</li>
</ul>
</blockquote>
<p>2017-12-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Copyright.txt: Bump copyright years and rotate ChangeLog.</li>
</ul>
</blockquote>
</div>
</body>
</html>
